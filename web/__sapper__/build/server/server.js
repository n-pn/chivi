module.exports=function(e){var A={};function t(n){if(A[n])return A[n].exports;var r=A[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=A,t.d=function(e,A,n){t.o(e,A)||Object.defineProperty(e,A,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,A){if(1&A&&(e=t(e)),8&A)return e;if(4&A&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&A&&"string"!=typeof e)for(var r in e)t.d(n,r,function(A){return e[A]}.bind(null,r));return n},t.n=function(e){var A=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(A,"a",A),A},t.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)},t.p="",t(t.s=20)}([function(e,A,t){"use strict";function n(){}t.d(A,"a",(function(){return w})),t.d(A,"b",(function(){return y})),t.d(A,"c",(function(){return v})),t.d(A,"d",(function(){return g})),t.d(A,"e",(function(){return h})),t.d(A,"f",(function(){return c})),t.d(A,"g",(function(){return a})),t.d(A,"h",(function(){return b})),t.d(A,"i",(function(){return n})),t.d(A,"j",(function(){return m})),t.d(A,"k",(function(){return s})),t.d(A,"l",(function(){return i})),t.d(A,"m",(function(){return u})),t.d(A,"n",(function(){return l})),t.d(A,"o",(function(){return x}));function r(e){return e()}function o(){return Object.create(null)}function s(e){e.forEach(r)}function a(e){return"function"==typeof e}function i(e,A){return e!=e?A==A:e!==A||e&&"object"==typeof e||"function"==typeof e}function l(e,...A){if(null==e)return n;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function c(e){let A;return l(e,e=>A=e)(),A}new Set;new Set;let C;function p(e){C=e}function d(){if(!C)throw new Error("Function called outside component initialization");return C}function m(e){d().$$.on_mount.push(e)}function u(e,A){d().$$.context.set(e,A)}function h(e){return d().$$.context.get(e)}Promise.resolve();new Set;new Set;"undefined"!=typeof window?window:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);const f={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function g(e){return String(e).replace(/["'&<>]/g,e=>f[e])}function v(e,A){let t="";for(let n=0;n<e.length;n+=1)t+=A(e[n],n);return t}const b={$$render:()=>""};function x(e,A){if(!e||!e.$$render)throw"svelte:component"===A&&(A+=" this={...}"),new Error(`<${A}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let E,O;function y(e){function A(A,t,n,r){const s=C;p({$$:{on_destroy:E,context:new Map(s?s.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:o()}});const a=e(A,t,n,r);return p(s),a}return{render:(e={},t={})=>{E=[];const n={title:"",head:"",css:new Set},r=A(n,e,{},t);return s(E),{html:r,css:{code:Array.from(n.css).map(e=>e.code).join("\n"),map:null},head:n.title+n.head}},$$render:A}}function w(e,A,t){return null==A||t&&!A?"":` ${e}${!0===A?"":"="+("string"==typeof A?JSON.stringify(g(A)):`"${A}"`)}`}function k(e,A){const t=e.$$;null!==t.fragment&&(s(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}"function"==typeof HTMLElement&&(O=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,A,t){this[e]=t}$destroy(){k(this,1),this.$destroy=n}$on(e,A){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(A),()=>{const e=t.indexOf(A);-1!==e&&t.splice(e,1)}}$set(){}})},function(e,A,t){"use strict";t.d(A,"a",(function(){return r})),t.d(A,"d",(function(){return o})),t.d(A,"c",(function(){return s})),t.d(A,"b",(function(){return a}));var n=t(3);Object(n.a)("index");const r=Object(n.a)(!1),o=Object(n.a)(!0),s=Object(n.a)([]),a=Object(n.a)(0);Object(n.a)(null)},function(e,A,t){"use strict";var n=t(0);const r=Object(n.b)((e,A,t,r)=>{let{name:o}=A;return void 0===A.name&&t.name&&void 0!==o&&t.name(o),`<svg class="${"m-icon _"+Object(n.d)(o)+" "+Object(n.d)(A.class)}"><use xlink:href="${"/icons.svg#"+Object(n.d)(o)}"></use></svg>`});A.a=r},function(e,A,t){"use strict";t.d(A,"a",(function(){return o}));var n=t(0);const r=[];function o(e,A=n.i){let t;const o=[];function s(A){if(Object(n.l)(e,A)&&(e=A,t)){const A=!r.length;for(let A=0;A<o.length;A+=1){const t=o[A];t[1](),r.push(t,e)}if(A){for(let e=0;e<r.length;e+=2)r[e][0](r[e+1]);r.length=0}}}return{set:s,update:function(A){s(A(e))},subscribe:function(r,a=n.i){const i=[r,a];return o.push(i),1===o.length&&(t=A(s)||n.i),r(e),()=>{const e=o.indexOf(i);-1!==e&&o.splice(e,1),0===o.length&&(t(),t=null)}}}}},function(e,A){e.exports=require("stream")},function(e,A,t){"use strict";var n=t(0);t.d(A,"a",(function(){return n.e})),t.d(A,"b",(function(){return n.j})),t.d(A,"c",(function(){return n.m}))},function(e,A){e.exports=require("fs")},function(e,A){e.exports=require("path")},function(e,A){e.exports=require("zlib")},function(e,A,t){"use strict";var n=t(0),r=t(1);const o={code:".header.svelte-x22kvx.svelte-x22kvx{position:sticky;top:0;left:0;width:100%;height:3rem;z-index:800;background-color:#2b6cb0;box-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)}@media screen and (min-width: 1040px){.header._tilt.svelte-x22kvx.svelte-x22kvx{margin-right:30rem}}.header-nav.svelte-x22kvx.svelte-x22kvx{margin:0 auto;width:54rem;max-width:100%;display:flex;padding:0.375rem 0.75rem;line-height:2.25rem;color:#fff}.header-nav.svelte-x22kvx.svelte-x22kvx .left{display:flex;margin-right:auto}.header-nav.svelte-x22kvx.svelte-x22kvx .right{display:flex;margin-left:auto;padding-left:0.375rem}.header-item{display:inline-flex;cursor:pointer;text-decoration:none;padding:0 0.5rem;height:2.25rem;text-transform:uppercase;font-weight:500;color:#edf2f7;border-radius:3px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-left-radius:3px;border-bottom-right-radius:3px;font-size:0.875rem;background-color:#3182ce}@media(hover: hover){.header-item:hover{background-color:#4299e1}}.header-item+.header-item{margin-left:0.375rem}.header-item._active{background-color:#4299e1}.header-item._title{max-width:40vw}@media screen and (min-width: 560px){.header-item._title{max-width:50vw}}@media screen and (min-width: 800px){.header-item._title{max-width:60vw}}.header-item._index{max-width:20vw}@media screen and (min-width: 560px){.header-item._index{max-width:40vw}}@media screen and (min-width: 800px){.header-item._index{max-width:60vw}}.header-item span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.header-item img,.header-item svg{display:inline-block;margin:0.5rem 0;width:1.25rem;height:1.25rem}.header-item._logo{letter-spacing:0.1em;font-size:1rem}.header-item._logo.svelte-x22kvx>span.svelte-x22kvx{margin-left:0.25rem}",map:'{"version":3,"file":"Header.svelte","sources":["Header.svelte"],"sourcesContent":["<script>\\n  import { lookup_pinned, lookup_active } from \'$src/stores.js\'\\n<\/script>\\n\\n<style lang=\\"scss\\">.header {\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 3rem;\\n  z-index: 800;\\n  background-color: #2b6cb0;\\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); }\\n  @media screen and (min-width: 1040px) {\\n    .header._tilt {\\n      margin-right: 30rem; } }\\n\\n.header-nav {\\n  margin: 0 auto;\\n  width: 54rem;\\n  max-width: 100%;\\n  display: flex;\\n  padding: 0.375rem 0.75rem;\\n  line-height: 2.25rem;\\n  color: #fff; }\\n  .header-nav :global(.left) {\\n    display: flex;\\n    margin-right: auto; }\\n  .header-nav :global(.right) {\\n    display: flex;\\n    margin-left: auto;\\n    padding-left: 0.375rem; }\\n\\n:global(.header-item) {\\n  display: inline-flex;\\n  cursor: pointer;\\n  text-decoration: none;\\n  padding: 0 0.5rem;\\n  height: 2.25rem;\\n  text-transform: uppercase;\\n  font-weight: 500;\\n  color: #edf2f7;\\n  border-radius: 3px;\\n  border-top-left-radius: 3px;\\n  border-top-right-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n  border-bottom-right-radius: 3px;\\n  font-size: 0.875rem;\\n  background-color: #3182ce; }\\n  @media (hover: hover) {\\n    :global(.header-item):hover {\\n      background-color: #4299e1; } }\\n  :global(.header-item) + :global(.header-item) {\\n    margin-left: 0.375rem; }\\n  :global(.header-item)._active {\\n    background-color: #4299e1; }\\n  :global(.header-item)._title {\\n    max-width: 40vw; }\\n    @media screen and (min-width: 560px) {\\n      :global(.header-item)._title {\\n        max-width: 50vw; } }\\n    @media screen and (min-width: 800px) {\\n      :global(.header-item)._title {\\n        max-width: 60vw; } }\\n  :global(.header-item)._index {\\n    max-width: 20vw; }\\n    @media screen and (min-width: 560px) {\\n      :global(.header-item)._index {\\n        max-width: 40vw; } }\\n    @media screen and (min-width: 800px) {\\n      :global(.header-item)._index {\\n        max-width: 60vw; } }\\n  :global(.header-item) :global(span) {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    width: 100%; }\\n  :global(.header-item) :global(img),\\n  :global(.header-item) :global(svg) {\\n    display: inline-block;\\n    margin: 0.5rem 0;\\n    width: 1.25rem;\\n    height: 1.25rem; }\\n  :global(.header-item)._logo {\\n    letter-spacing: 0.1em;\\n    font-size: 1rem; }\\n    :global(.header-item)._logo > span {\\n      margin-left: 0.25rem; }\\n\\n/*# sourceMappingURL=Header.svelte.css.map */</style>\\n\\n<header class=\\"header\\" class:_tilt={$lookup_pinned && $lookup_active}>\\n  <nav class=\\"header-nav\\">\\n    <slot>\\n      <div class=\\"left\\">\\n        <a href=\\"/\\" class=\\"header-item _logo _active\\">\\n          <img src=\\"/logo.svg\\" alt=\\"logo\\" />\\n          <span>Chivi</span>\\n        </a>\\n      </div>\\n    </slot>\\n  </nav>\\n</header>\\n"],"names":[],"mappings":"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"}'},s=Object(n.b)((e,A,t,s)=>{let a=Object(n.f)(r.d),i=Object(n.f)(r.a);return e.css.add(o),`<header class="${["header svelte-x22kvx",a&&i?"_tilt":""].join(" ").trim()}"><nav class="header-nav svelte-x22kvx">${s.default?s.default({}):'\n      <div class="left"><a href="/" class="header-item _logo _active svelte-x22kvx"><img src="/logo.svg" alt="logo">\n          <span class="svelte-x22kvx">Chivi</span></a></div>\n    '}</nav></header>`});A.a=s},function(e,A){e.exports=require("url")},function(e,A,t){"use strict";t.r(A),t.d(A,"preload",(function(){return l})),t.d(A,"page_url",(function(){return c}));var n=t(0),r=t(2),o=t(9),s=t(5),a=t(1);const i={code:'.list.svelte-2u7av6.svelte-2u7av6{max-width:100%;margin:0 auto;padding:0.75rem;display:grid;grid-template-columns:repeat(auto-fill, minmax(9rem, 1fr));grid-gap:0.5rem}.book.svelte-2u7av6.svelte-2u7av6{display:block;position:relative;margin-bottom:3rem}@media(hover: hover){.book.svelte-2u7av6:hover .book-title.svelte-2u7av6{color:#4299e1}}.book.svelte-2u7av6.svelte-2u7av6::before{content:\'\';display:block;padding-top:4/3;position:absolute;top:0;left:0;z-index:-1}.book-cover.svelte-2u7av6.svelte-2u7av6{display:flex;justify-content:center;align-items:center;height:100%;z-index:1}.book-cover.svelte-2u7av6 img.svelte-2u7av6{border-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;min-width:100%;min-height:100%}.book-title.svelte-2u7av6.svelte-2u7av6{width:100%;position:absolute;bottom:-1.75rem;font-weight:600;color:#4a5568;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-size:1rem;font-family:"Roboto Condensed", "Noto Sans Condensed", "SF Condensed", "San Francisco Compact", Roboto, "Noto Sans", system-ui, -apple-system, "Noto Sans CJK SC", Arial, san-serif, "Apple Color Emoji", "Noto Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}.book-genre.svelte-2u7av6.svelte-2u7av6{width:100%;position:absolute;bottom:-3rem;color:#a0aec0;text-transform:uppercase;font-weight:500;font-size:0.75rem}.book-score.svelte-2u7av6.svelte-2u7av6{width:100%;position:absolute;bottom:-3rem;text-transform:uppercase;font-weight:500;text-align:right;color:#a0aec0;font-size:0.75rem}.book-score.svelte-2u7av6>span.svelte-2u7av6{display:inline-block;vertical-align:top;font-size:95%}.pagi.svelte-2u7av6.svelte-2u7av6{margin-bottom:1rem;display:flex;justify-content:center}.page+.page.svelte-2u7av6.svelte-2u7av6{margin-left:0.5rem}',map:'{"version":3,"file":"index.svelte","sources":["index.svelte"],"sourcesContent":["<script context=\\"module\\">\\n  export async function preload({ query }) {\\n    const page = query.page || 1\\n    let url = `api/books?page=${page}`\\n    const sort = query.sort || \'access\'\\n    url += `&sort=${sort}`\\n\\n    const res = await this.fetch(url)\\n    const data = await res.json()\\n    return Object.assign(data, { page })\\n  }\\n\\n  export function page_url(page = 1, sort = \'access\') {\\n    const params = {}\\n    if (page > 1) params.page = page\\n    if (sort !== \'access\') params.sort = sort\\n\\n    const query = Object.entries(params)\\n      .map(([k, v]) => `${k}=${v}`)\\n      .join(\'&\')\\n\\n    if (query) return `/?${query}`\\n    return \'/\'\\n  }\\n<\/script>\\n\\n<script>\\n  import MIcon from \'$mould/MIcon.svelte\'\\n  import Header from \'$layout/Header.svelte\'\\n\\n  export let items = []\\n  export let total = 0\\n  export let page = 1\\n  export let sort = \'access\'\\n\\n  $: page_max = Math.floor((total - 1) / 20) + 1\\n  $: pages = make_pages(page, page_max)\\n\\n  import { onMount } from \'svelte\'\\n  import { lookup_active } from \'$src/stores.js\'\\n  onMount(() => lookup_active.set(false))\\n\\n  function make_pages(page_now, page_max) {\\n    let page_from = page_now - 2\\n    if (page_from < 1) page_from = 1\\n    let page_upto = page_from + 4\\n    if (page_upto > page_max) {\\n      page_upto = page_max\\n      page_from = page_upto - 4\\n      if (page_from < 1) page_from = 1\\n    }\\n\\n    // console.log({ page_from, page_upto })\\n    let arr = []\\n    for (let i = page_from; i <= page_upto; i++) arr.push(i)\\n    return arr\\n  }\\n<\/script>\\n\\n<style lang=\\"scss\\">.list {\\n  max-width: 100%;\\n  margin: 0 auto;\\n  padding: 0.75rem;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(9rem, 1fr));\\n  grid-gap: 0.5rem; }\\n\\n.book {\\n  display: block;\\n  position: relative;\\n  margin-bottom: 3rem; }\\n  @media (hover: hover) {\\n    .book:hover .book-title {\\n      color: #4299e1; } }\\n  .book::before {\\n    content: \'\';\\n    display: block;\\n    padding-top: 4/3;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    z-index: -1; }\\n\\n.book-cover {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  z-index: 1; }\\n  .book-cover img {\\n    border-radius: 4px;\\n    border-top-left-radius: 4px;\\n    border-top-right-radius: 4px;\\n    border-bottom-left-radius: 4px;\\n    border-bottom-right-radius: 4px;\\n    min-width: 100%;\\n    min-height: 100%; }\\n\\n.book-title {\\n  width: 100%;\\n  position: absolute;\\n  bottom: -1.75rem;\\n  font-weight: 600;\\n  color: #4a5568;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  width: 100%;\\n  font-size: 1rem;\\n  font-family: \\"Roboto Condensed\\", \\"Noto Sans Condensed\\", \\"SF Condensed\\", \\"San Francisco Compact\\", Roboto, \\"Noto Sans\\", system-ui, -apple-system, \\"Noto Sans CJK SC\\", Arial, san-serif, \\"Apple Color Emoji\\", \\"Noto Color Emoji\\", \\"Segoe UI Emoji\\", \\"Segoe UI Symbol\\"; }\\n\\n.book-genre {\\n  width: 100%;\\n  position: absolute;\\n  bottom: -3rem;\\n  color: #a0aec0;\\n  text-transform: uppercase;\\n  font-weight: 500;\\n  font-size: 0.75rem; }\\n\\n.book-score {\\n  width: 100%;\\n  position: absolute;\\n  bottom: -3rem;\\n  text-transform: uppercase;\\n  font-weight: 500;\\n  text-align: right;\\n  color: #a0aec0;\\n  font-size: 0.75rem; }\\n  .book-score > span {\\n    display: inline-block;\\n    vertical-align: top;\\n    font-size: 95%; }\\n\\n.pagi {\\n  margin-bottom: 1rem;\\n  display: flex;\\n  justify-content: center; }\\n\\n.page + .page {\\n  margin-left: 0.5rem; }\\n\\n/*# sourceMappingURL=index.svelte.css.map */</style>\\n\\n<svelte:head>\\n  <title>Chivi - Chinese to Vietname Machine Translation</title>\\n</svelte:head>\\n\\n<Header />\\n\\n<div class=\\"wrapper\\">\\n  <div class=\\"list\\">\\n    {#each items as book}\\n      <a class=\\"book\\" href={book.vi_slug}>\\n        <picture class=\\"book-cover\\">\\n          {#each book.covers as cover}\\n            <source srcset={cover} />\\n          {/each}\\n          <img src=\\"/img/nocover.png\\" alt={book.vi_title} />\\n        </picture>\\n\\n        <div class=\\"book-title\\">{book.vi_title}</div>\\n        <div class=\\"book-genre\\">{book.vi_genre}</div>\\n        <div class=\\"book-score\\">\\n          <span>⭐</span>\\n          {book.score}\\n        </div>\\n      </a>\\n    {/each}\\n  </div>\\n\\n  <footer class=\\"pagi\\">\\n    {#if page == 1}\\n      <button class=\\"page m-button _line\\" disabled>\\n        <MIcon class=\\"m-icon\\" name=\\"chevrons-left\\" />\\n      </button>\\n    {:else}\\n      <a class=\\"page m-button _line\\" href={page_url(1, sort)}>\\n        <MIcon class=\\"m-icon\\" name=\\"chevrons-left\\" />\\n      </a>\\n    {/if}\\n\\n    {#each pages as idx}\\n      {#if page == idx}\\n        <button class=\\"page m-button _line _primary\\" disabled>\\n          <span>{idx}</span>\\n        </button>\\n      {:else}\\n        <a class=\\"page m-button _line\\" href={page_url(idx, sort)}>\\n          <span>{idx}</span>\\n        </a>\\n      {/if}\\n    {/each}\\n    {#if page == page_max}\\n      <button class=\\"page m-button _line\\" disabled>\\n        <MIcon class=\\"m-icon\\" name=\\"chevrons-right\\" />\\n      </button>\\n    {:else}\\n      <a class=\\"page m-button _line\\" href={page_url(page_max, sort)}>\\n        <MIcon class=\\"m-icon\\" name=\\"chevrons-right\\" />\\n      </a>\\n    {/if}\\n\\n  </footer>\\n\\n</div>\\n"],"names":[],"mappings":"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"}'};async function l({query:e}){const A=e.page||1;let t="api/books?page="+A;t+="&sort="+(e.sort||"access");const n=await this.fetch(t),r=await n.json();return Object.assign(r,{page:A})}function c(e=1,A="access"){const t={};e>1&&(t.page=e),"access"!==A&&(t.sort=A);const n=Object.entries(t).map(([e,A])=>`${e}=${A}`).join("&");return n?"/?"+n:"/"}const C=Object(n.b)((e,A,t,l)=>{let{items:C=[]}=A,{total:p=0}=A,{page:d=1}=A,{sort:m="access"}=A;Object(s.b)(()=>a.a.set(!1)),void 0===A.items&&t.items&&void 0!==C&&t.items(C),void 0===A.total&&t.total&&void 0!==p&&t.total(p),void 0===A.page&&t.page&&void 0!==d&&t.page(d),void 0===A.sort&&t.sort&&void 0!==m&&t.sort(m),e.css.add(i);let u=Math.floor((p-1)/20)+1,h=function(e,A){let t=e-2;t<1&&(t=1);let n=t+4;n>A&&(n=A,t=n-4,t<1&&(t=1));let r=[];for(let e=t;e<=n;e++)r.push(e);return r}(d,u);return`${e.head+=""+(e.title="<title>Chivi - Chinese to Vietname Machine Translation</title>",""),""}\n\n${Object(n.o)(o.a,"Header").$$render(e,{},{},{})}\n\n<div class="wrapper"><div class="list svelte-2u7av6">${Object(n.c)(C,e=>`<a class="book svelte-2u7av6"${Object(n.a)("href",e.vi_slug,0)}><picture class="book-cover svelte-2u7av6">${Object(n.c)(e.covers,e=>`<source${Object(n.a)("srcset",e,0)}>`)}\n          <img src="/img/nocover.png"${Object(n.a)("alt",e.vi_title,0)} class="svelte-2u7av6"></picture>\n\n        <div class="book-title svelte-2u7av6">${Object(n.d)(e.vi_title)}</div>\n        <div class="book-genre svelte-2u7av6">${Object(n.d)(e.vi_genre)}</div>\n        <div class="book-score svelte-2u7av6"><span class="svelte-2u7av6">⭐</span>\n          ${Object(n.d)(e.score)}</div>\n      </a>`)}</div>\n\n  <footer class="pagi svelte-2u7av6">${1==d?`<button class="page m-button _line svelte-2u7av6" disabled>${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevrons-left"},{},{})}</button>`:`<a class="page m-button _line svelte-2u7av6"${Object(n.a)("href",c(1,m),0)}>${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevrons-left"},{},{})}</a>`}\n\n    ${Object(n.c)(h,e=>""+(d==e?`<button class="page m-button _line _primary svelte-2u7av6" disabled><span>${Object(n.d)(e)}</span>\n        </button>`:`<a class="page m-button _line svelte-2u7av6"${Object(n.a)("href",c(e,m),0)}><span>${Object(n.d)(e)}</span>\n        </a>`))}\n    ${d==u?`<button class="page m-button _line svelte-2u7av6" disabled>${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevrons-right"},{},{})}</button>`:`<a class="page m-button _line svelte-2u7av6"${Object(n.a)("href",c(u,m),0)}>${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevrons-right"},{},{})}</a>`}</footer></div>`});A.default=C},function(e,A,t){"use strict";t.r(A),t.d(A,"preload",(function(){return l})),t.d(A,"relative_time",(function(){return c})),t.d(A,"book_status",(function(){return C})),t.d(A,"map_volumes",(function(){return p})),t.d(A,"get_latests",(function(){return d}));var n=t(0),r=t(2),o=t(9),s=t(5),a=t(1);const i={code:".info.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:after{display:block;content:'';clear:both}.cover.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{float:left;width:40%}@media screen and (min-width: 560px){.cover.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{width:30%}}.cover.svelte-srgzr8.svelte-srgzr8>img.svelte-srgzr8.svelte-srgzr8{width:100%;border-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.name.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{margin-bottom:0.75rem;float:left;width:100%;padding-left:0}@media screen and (min-width: 560px){.name.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{float:right}}@media screen and (min-width: 560px){.name.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{width:70%}}@media screen and (min-width: 560px){.name.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{padding-left:0.75rem}}.extra.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{float:right;padding-left:0.75rem;width:60%}@media screen and (min-width: 560px){.extra.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{width:70%}}.extra.svelte-srgzr8.svelte-srgzr8>div.svelte-srgzr8.svelte-srgzr8{margin-bottom:0.25rem}.extra.svelte-srgzr8.svelte-srgzr8>div.svelte-srgzr8.svelte-srgzr8:after{display:block;content:'';clear:both}.extra.svelte-srgzr8>div.svelte-srgzr8>.svelte-srgzr8{float:left}.extra>div>*+.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{margin-left:0.5rem}.extra.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8,.extra.svelte-srgzr8.svelte-srgzr8 time.svelte-srgzr8.svelte-srgzr8{color:#718096}.extra.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8 svg{margin-top:-0.125rem}.summary.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{color:#4a5568}h2.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{margin-top:0.75rem}h3.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{margin-top:0.75rem;padding-left:0.75rem}.chap-list.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{margin-top:0.25rem;display:grid;grid-template-columns:repeat(auto-fill, minmax(20rem, 1fr));grid-gap:0 0.5rem}.chap-list.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:last-child{margin-bottom:0.75rem}.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{border-bottom:1px solid #e2e8f0}.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(odd){background-color:#fff}.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:first-child{border-top:1px solid #e2e8f0}@media screen and (min-width: 560px){.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(2){border-top:1px solid #e2e8f0}.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(4n),.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(4n + 1){background-color:#fff}.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(4n + 2),.chap-item.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:nth-child(4n + 3){background-color:#f7fafc}}.chap-link.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{display:block;color:#4a5568;padding:0.5rem 0.75rem}@media(hover: hover){.chap-link.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:hover{color:#4299e1}}.author.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{font-weight:500}.subtitle.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{font-size:85%}.chap-title.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.info.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8,.summary.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8,.content.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{padding-left:0.75rem;padding-right:0.75rem}.info.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{padding-top:0.75rem}.tabs.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{display:block;margin:0.75rem;padding-top:0.375rem;line-height:2rem;border-top:1px solid #e2e8f0}.tabs.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8:after{display:block;content:'';clear:both}.tabs.svelte-srgzr8.svelte-srgzr8>span.svelte-srgzr8.svelte-srgzr8{float:left;margin-top:0.375rem;font-weight:500;font-size:1.25rem}.site.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{float:left;text-transform:uppercase;margin-left:0.375rem;margin-top:0.375rem;padding:0 0.5rem;font-weight:500;cursor:pointer;color:#4a5568;font-size:0.875rem;border:1px solid #e2e8f0;border-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.site._active.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{color:#4299e1;border-color:#4299e1}.label.svelte-srgzr8.svelte-srgzr8.svelte-srgzr8{color:#718096}",map:'{"version":3,"file":"index.svelte","sources":["index.svelte"],"sourcesContent":["<script context=\\"module\\">\\n  export async function preload({ params, query }) {\\n    const slug = params.book\\n    const site = query.site\\n\\n    let url = `api/books/${slug}`\\n    if (site) url += `/${site}`\\n\\n    try {\\n      const res = await this.fetch(url)\\n      const data = await res.json()\\n\\n      if (res.status == 200) return data\\n\\n      this.error(res.status, data.msg)\\n    } catch (err) {\\n      this.error(500, err.message)\\n    }\\n  }\\n\\n  export function relative_time(time) {\\n    const span = (new Date().getTime() - time) / 1000\\n\\n    if (span < 60) return \'< 1 phút trước\'\\n    if (span < 60 * 60) return `${Math.round(span / 60)} phút trước`\\n    if (span < 60 * 60 * 24) return `${Math.round(span / 3600)} giờ trước`\\n\\n    return new Date(time).toISOString().split(\'T\')[0]\\n  }\\n\\n  export function book_status(status) {\\n    switch (status) {\\n      case 0:\\n        return \'Còn tiếp\'\\n      case 1:\\n        return \'Hoàn thành\'\\n      case 2:\\n        return \'Thái giám\'\\n      default:\\n        return \'Không rõ\'\\n    }\\n  }\\n\\n  export function map_volumes(chlist) {\\n    let volumes = {}\\n    for (const chap of chlist) {\\n      volumes[chap.vi_volume] = volumes[chap.vi_volume] || []\\n      volumes[chap.vi_volume].push(chap)\\n    }\\n    return volumes\\n  }\\n\\n  export function get_latests(chlist) {\\n    const start = chlist.length - 1\\n    let stop = start - 5\\n    if (stop < 0) stop = 0\\n\\n    const res = []\\n    for (let i = start; i >= stop; i--) {\\n      res.push(chlist[i])\\n    }\\n\\n    return res\\n  }\\n<\/script>\\n\\n<script>\\n  import MIcon from \'$mould/MIcon.svelte\'\\n  import Header from \'$layout/Header.svelte\'\\n\\n  export let book\\n  export let site\\n  export let bsid\\n  export let chlist = []\\n\\n  import { onMount } from \'svelte\'\\n  import { lookup_active } from \'$src/stores.js\'\\n  onMount(() => lookup_active.set(false))\\n\\n  $: volumes = map_volumes(chlist)\\n  $: latests = get_latests(chlist)\\n<\/script>\\n\\n<style type=\\"text/scss\\">.info:after {\\n  display: block;\\n  content: \'\';\\n  clear: both; }\\n\\n.cover {\\n  float: left;\\n  width: 40%; }\\n  @media screen and (min-width: 560px) {\\n    .cover {\\n      width: 30%; } }\\n  .cover > img {\\n    width: 100%;\\n    border-radius: 4px;\\n    border-top-left-radius: 4px;\\n    border-top-right-radius: 4px;\\n    border-bottom-left-radius: 4px;\\n    border-bottom-right-radius: 4px; }\\n\\n.name {\\n  margin-bottom: 0.75rem;\\n  float: left;\\n  width: 100%;\\n  padding-left: 0; }\\n  @media screen and (min-width: 560px) {\\n    .name {\\n      float: right; } }\\n  @media screen and (min-width: 560px) {\\n    .name {\\n      width: 70%; } }\\n  @media screen and (min-width: 560px) {\\n    .name {\\n      padding-left: 0.75rem; } }\\n\\n.extra {\\n  float: right;\\n  padding-left: 0.75rem;\\n  width: 60%; }\\n  @media screen and (min-width: 560px) {\\n    .extra {\\n      width: 70%; } }\\n  .extra > div {\\n    margin-bottom: 0.25rem; }\\n    .extra > div:after {\\n      display: block;\\n      content: \'\';\\n      clear: both; }\\n    .extra > div > * {\\n      float: left; }\\n      .extra > div > * + * {\\n        margin-left: 0.5rem; }\\n  .extra,\\n  .extra time {\\n    color: #718096; }\\n  .extra :global(svg) {\\n    margin-top: -0.125rem; }\\n\\n.summary {\\n  color: #4a5568; }\\n\\nh2 {\\n  margin-top: 0.75rem; }\\n\\nh3 {\\n  margin-top: 0.75rem;\\n  padding-left: 0.75rem; }\\n\\n.chap-list {\\n  margin-top: 0.25rem;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\\n  grid-gap: 0 0.5rem; }\\n  .chap-list:last-child {\\n    margin-bottom: 0.75rem; }\\n\\n.chap-item {\\n  border-bottom: 1px solid #e2e8f0; }\\n  .chap-item:nth-child(odd) {\\n    background-color: #fff; }\\n  .chap-item:first-child {\\n    border-top: 1px solid #e2e8f0; }\\n  @media screen and (min-width: 560px) {\\n    .chap-item:nth-child(2) {\\n      border-top: 1px solid #e2e8f0; }\\n    .chap-item:nth-child(4n), .chap-item:nth-child(4n + 1) {\\n      background-color: #fff; }\\n    .chap-item:nth-child(4n + 2), .chap-item:nth-child(4n + 3) {\\n      background-color: #f7fafc; } }\\n\\n.chap-link {\\n  display: block;\\n  color: #4a5568;\\n  padding: 0.5rem 0.75rem; }\\n  @media (hover: hover) {\\n    .chap-link:hover {\\n      color: #4299e1; } }\\n\\n.author {\\n  font-weight: 500; }\\n\\n.subtitle {\\n  font-size: 85%; }\\n\\n.chap-title {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  width: 100%; }\\n\\n.info,\\n.summary,\\n.content {\\n  padding-left: 0.75rem;\\n  padding-right: 0.75rem; }\\n\\n.info {\\n  padding-top: 0.75rem; }\\n\\n.tabs {\\n  display: block;\\n  margin: 0.75rem;\\n  padding-top: 0.375rem;\\n  line-height: 2rem;\\n  border-top: 1px solid #e2e8f0; }\\n  .tabs:after {\\n    display: block;\\n    content: \'\';\\n    clear: both; }\\n  .tabs > span {\\n    float: left;\\n    margin-top: 0.375rem;\\n    font-weight: 500;\\n    font-size: 1.25rem; }\\n\\n.site {\\n  float: left;\\n  text-transform: uppercase;\\n  margin-left: 0.375rem;\\n  margin-top: 0.375rem;\\n  padding: 0 0.5rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  color: #4a5568;\\n  font-size: 0.875rem;\\n  border: 1px solid #e2e8f0;\\n  border-radius: 4px;\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px; }\\n  .site._active {\\n    color: #4299e1;\\n    border-color: #4299e1; }\\n\\n.label {\\n  color: #718096; }\\n\\n/*# sourceMappingURL=index.svelte.css.map */</style>\\n\\n<svelte:head>\\n  <title>{book.vi_title} - Chivi</title>\\n  <meta\\n    name=\\"keywords\\"\\n    content=\\"{book.vi_title},{book.zh_title},{book.vi_author},{book.zh_author}\\" />\\n  <meta name=\\"description\\" content={book.vi_intro} />\\n  <meta property=\\"og:type\\" content=\\"novel\\" />\\n  <meta property=\\"og:title\\" content={book.vi_title} />\\n  <meta property=\\"og:description\\" content={book.vi_intro} />\\n  <meta property=\\"og:image\\" content={book.covers[0]} />\\n  <meta property=\\"og:novel:category\\" content={book.vi_genre} />\\n  <meta property=\\"og:novel:author\\" content={book.vi_author} />\\n  <meta property=\\"og:novel:book_name\\" content={book.vi_title} />\\n  <meta\\n    property=\\"og:novel:read_url\\"\\n    content=\\"http://chivi.xyz/{book.vi_slug}/\\" />\\n  <meta property=\\"og:url\\" content=\\"http://chivi.xyz/{book.vi_slug}/\\" />\\n  <meta property=\\"og:novel:status\\" content={book_status(book.status)} />\\n  <meta\\n    property=\\"og:novel:update_time\\"\\n    content={new Date(book.updated_at).toISOString()} />\\n  <meta property=\\"og:novel:latest_chapter_name\\" content={latests[0].vi_title} />\\n  <meta\\n    property=\\"og:novel:latest_chapter_url\\"\\n    content=\\"https://chivi.xyz/{book.vi_slug}/{latests[0].url_slug}-{site}-{latests[0].csid}.html\\" />\\n</svelte:head>\\n\\n<Header>\\n  <div class=\\"left\\">\\n    <a href=\\"/\\" class=\\"header-item\\">\\n      <img src=\\"/logo.svg\\" alt=\\"logo\\" />\\n    </a>\\n\\n    <a href=\\"/{book.vi_slug}\\" class=\\"header-item _active\\">\\n      <span>{book.vi_title}</span>\\n    </a>\\n  </div>\\n</Header>\\n\\n<div class=\\"wrapper\\">\\n  <div class=\\"info\\">\\n    <div class=\\"name\\">\\n      <h1 class=\\"title\\">\\n        {book.vi_title}\\n        <span class=\\"subtitle\\">({book.zh_title})</span>\\n      </h1>\\n    </div>\\n\\n    <picture class=\\"cover\\">\\n      {#each book.covers as cover}\\n        <source srcset={cover} />\\n      {/each}\\n      <img src=\\"img/nocover.png\\" alt={book.vi_title} />\\n    </picture>\\n\\n    <div class=\\"extra\\">\\n      <div>\\n        <span class=\\"author\\">\\n          <MIcon class=\\"m-icon\\" name=\\"pen-tool\\" />\\n          {book.vi_author}\\n          <span>({book.zh_author})</span>\\n        </span>\\n      </div>\\n      <div>\\n\\n        <span class=\\"genre\\">\\n          <MIcon class=\\"m-icon\\" name=\\"book\\" />\\n          {book.vi_genre}\\n        </span>\\n        <span class=\\"status\\">\\n          <MIcon class=\\"m-icon\\" name=\\"activity\\" />\\n          {book_status(book.status)}\\n        </span>\\n        <time class=\\"updated_at\\" datetime={new Date(book.updated_at)}>\\n          <MIcon class=\\"m-icon\\" name=\\"clock\\" />\\n          {relative_time(book.updated_at)}\\n        </time>\\n      </div>\\n      \x3c!--\\n      <div>\\n        <span class=\\"prefer_site\\">\\n          <MIcon class=\\"m-icon\\" name=\\"link\\" />\\n          {book.prefer_site}\\n        </span>\\n        <span class=\\"chap_count\\">\\n          <MIcon class=\\"m-icon\\" name=\\"list\\" />\\n          {book.chap_count} chương\\n        </span>\\n      </div> --\x3e\\n\\n      <div>\\n        <div>\\n          Đánh giá:\\n          <strong>{book.score}</strong>\\n          /10 ({book.votes} lượt đánh giá)\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\"summary\\">\\n    <h2>Giới thiệu:</h2>\\n    {#each book.vi_intro.split(\'\\\\n\') as line}\\n      <p>{line}</p>\\n    {/each}\\n  </div>\\n\\n  <div class=\\"tabs\\">\\n    <span>Chọn nguồn:</span>\\n    {#each Object.keys(book.crawl_links) as crawl}\\n      <a\\n        class=\\"site\\"\\n        class:_active={site == crawl}\\n        href=\\"/{book.vi_slug}?site={crawl}\\">\\n        {crawl}\\n      </a>\\n    {/each}\\n  </div>\\n\\n  <h2 class=\\"content\\" data-site={site} data-bsid={bsid}>\\n    Mục lục\\n    <span class=\\"label\\">({chlist.length} chương)</span>\\n  </h2>\\n\\n  <h3>\\n    Mới nhất\\n    <span class=\\"label\\">({latests.length} chương)</span>\\n  </h3>\\n  <div class=\\"chap-list\\">\\n    {#each latests as chap}\\n      <div class=\\"chap-item\\">\\n        <a\\n          class=\\"chap-link\\"\\n          href=\\"/{book.vi_slug}/{chap.url_slug}-{site}-{chap.csid}\\">\\n          <div class=\\"chap-title\\">{chap.vi_title}</div>\\n        </a>\\n      </div>\\n    {/each}\\n  </div>\\n\\n  {#each Object.entries(volumes) as [label, chlist]}\\n    <h3>\\n      {label}\\n      <span class=\\"label\\">({chlist.length} chương)</span>\\n    </h3>\\n    <div class=\\"chap-list\\">\\n      {#each chlist as chap}\\n        <div class=\\"chap-item\\">\\n          <a\\n            class=\\"chap-link\\"\\n            href=\\"/{book.vi_slug}/{chap.url_slug}-{site}-{chap.csid}\\">\\n            <div class=\\"chap-title\\">{chap.vi_title}</div>\\n          </a>\\n        </div>\\n      {/each}\\n    </div>\\n  {/each}\\n\\n</div>\\n"],"names":[],"mappings":"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"}'};async function l({params:e,query:A}){const t=e.book,n=A.site;let r="api/books/"+t;n&&(r+="/"+n);try{const e=await this.fetch(r),A=await e.json();if(200==e.status)return A;this.error(e.status,A.msg)}catch(e){this.error(500,e.message)}}function c(e){const A=((new Date).getTime()-e)/1e3;return A<60?"< 1 phút trước":A<3600?Math.round(A/60)+" phút trước":A<86400?Math.round(A/3600)+" giờ trước":new Date(e).toISOString().split("T")[0]}function C(e){switch(e){case 0:return"Còn tiếp";case 1:return"Hoàn thành";case 2:return"Thái giám";default:return"Không rõ"}}function p(e){let A={};for(const t of e)A[t.vi_volume]=A[t.vi_volume]||[],A[t.vi_volume].push(t);return A}function d(e){const A=e.length-1;let t=A-5;t<0&&(t=0);const n=[];for(let r=A;r>=t;r--)n.push(e[r]);return n}const m=Object(n.b)((e,A,t,l)=>{let{book:m}=A,{site:u}=A,{bsid:h}=A,{chlist:f=[]}=A;Object(s.b)(()=>a.a.set(!1)),void 0===A.book&&t.book&&void 0!==m&&t.book(m),void 0===A.site&&t.site&&void 0!==u&&t.site(u),void 0===A.bsid&&t.bsid&&void 0!==h&&t.bsid(h),void 0===A.chlist&&t.chlist&&void 0!==f&&t.chlist(f),e.css.add(i);let g=p(f),v=d(f);return`${e.head+=`${e.title=`<title>${Object(n.d)(m.vi_title)} - Chivi</title>`,""}<meta name="keywords" content="${Object(n.d)(m.vi_title)+","+Object(n.d)(m.zh_title)+","+Object(n.d)(m.vi_author)+","+Object(n.d)(m.zh_author)}" class="svelte-srgzr8"><meta name="description"${Object(n.a)("content",m.vi_intro,0)} class="svelte-srgzr8"><meta property="og:type" content="novel" class="svelte-srgzr8"><meta property="og:title"${Object(n.a)("content",m.vi_title,0)} class="svelte-srgzr8"><meta property="og:description"${Object(n.a)("content",m.vi_intro,0)} class="svelte-srgzr8"><meta property="og:image"${Object(n.a)("content",m.covers[0],0)} class="svelte-srgzr8"><meta property="og:novel:category"${Object(n.a)("content",m.vi_genre,0)} class="svelte-srgzr8"><meta property="og:novel:author"${Object(n.a)("content",m.vi_author,0)} class="svelte-srgzr8"><meta property="og:novel:book_name"${Object(n.a)("content",m.vi_title,0)} class="svelte-srgzr8"><meta property="og:novel:read_url" content="${"http://chivi.xyz/"+Object(n.d)(m.vi_slug)+"/"}" class="svelte-srgzr8"><meta property="og:url" content="${"http://chivi.xyz/"+Object(n.d)(m.vi_slug)+"/"}" class="svelte-srgzr8"><meta property="og:novel:status"${Object(n.a)("content",C(m.status),0)} class="svelte-srgzr8"><meta property="og:novel:update_time"${Object(n.a)("content",new Date(m.updated_at).toISOString(),0)} class="svelte-srgzr8"><meta property="og:novel:latest_chapter_name"${Object(n.a)("content",v[0].vi_title,0)} class="svelte-srgzr8"><meta property="og:novel:latest_chapter_url" content="${"https://chivi.xyz/"+Object(n.d)(m.vi_slug)+"/"+Object(n.d)(v[0].url_slug)+"-"+Object(n.d)(u)+"-"+Object(n.d)(v[0].csid)+".html"}" class="svelte-srgzr8">`,""}\n\n${Object(n.o)(o.a,"Header").$$render(e,{},{},{default:()=>`<div class="left svelte-srgzr8"><a href="/" class="header-item svelte-srgzr8"><img src="/logo.svg" alt="logo" class="svelte-srgzr8"></a>\n\n    <a href="${"/"+Object(n.d)(m.vi_slug)}" class="header-item _active svelte-srgzr8"><span class="svelte-srgzr8">${Object(n.d)(m.vi_title)}</span></a></div>`})}\n\n<div class="wrapper svelte-srgzr8"><div class="info svelte-srgzr8"><div class="name svelte-srgzr8"><h1 class="title svelte-srgzr8">${Object(n.d)(m.vi_title)}\n        <span class="subtitle svelte-srgzr8">(${Object(n.d)(m.zh_title)})</span></h1></div>\n\n    <picture class="cover svelte-srgzr8">${Object(n.c)(m.covers,e=>`<source${Object(n.a)("srcset",e,0)} class="svelte-srgzr8">`)}\n      <img src="img/nocover.png"${Object(n.a)("alt",m.vi_title,0)} class="svelte-srgzr8"></picture>\n\n    <div class="extra svelte-srgzr8"><div class="svelte-srgzr8"><span class="author svelte-srgzr8">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"pen-tool"},{},{})}\n          ${Object(n.d)(m.vi_author)}\n          <span class="svelte-srgzr8">(${Object(n.d)(m.zh_author)})</span></span></div>\n      <div class="svelte-srgzr8"><span class="genre svelte-srgzr8">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"book"},{},{})}\n          ${Object(n.d)(m.vi_genre)}</span>\n        <span class="status svelte-srgzr8">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"activity"},{},{})}\n          ${Object(n.d)(C(m.status))}</span>\n        <time class="updated_at svelte-srgzr8"${Object(n.a)("datetime",new Date(m.updated_at),0)}>${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"clock"},{},{})}\n          ${Object(n.d)(c(m.updated_at))}</time></div>\n      \n\n      <div class="svelte-srgzr8"><div class="svelte-srgzr8">Đánh giá:\n          <strong class="svelte-srgzr8">${Object(n.d)(m.score)}</strong>\n          /10 (${Object(n.d)(m.votes)} lượt đánh giá)\n        </div></div></div></div>\n\n  <div class="summary svelte-srgzr8"><h2 class="svelte-srgzr8">Giới thiệu:</h2>\n    ${Object(n.c)(m.vi_intro.split("\n"),e=>`<p class="svelte-srgzr8">${Object(n.d)(e)}</p>`)}</div>\n\n  <div class="tabs svelte-srgzr8"><span class="svelte-srgzr8">Chọn nguồn:</span>\n    ${Object(n.c)(Object.keys(m.crawl_links),e=>`<a class="${["site svelte-srgzr8",u==e?"_active":""].join(" ").trim()}" href="${"/"+Object(n.d)(m.vi_slug)+"?site="+Object(n.d)(e)}">${Object(n.d)(e)}\n      </a>`)}</div>\n\n  <h2 class="content svelte-srgzr8"${Object(n.a)("data-site",u,0)}${Object(n.a)("data-bsid",h,0)}>Mục lục\n    <span class="label svelte-srgzr8">(${Object(n.d)(f.length)} chương)</span></h2>\n\n  <h3 class="svelte-srgzr8">Mới nhất\n    <span class="label svelte-srgzr8">(${Object(n.d)(v.length)} chương)</span></h3>\n  <div class="chap-list svelte-srgzr8">${Object(n.c)(v,e=>`<div class="chap-item svelte-srgzr8"><a class="chap-link svelte-srgzr8" href="${"/"+Object(n.d)(m.vi_slug)+"/"+Object(n.d)(e.url_slug)+"-"+Object(n.d)(u)+"-"+Object(n.d)(e.csid)}"><div class="chap-title svelte-srgzr8">${Object(n.d)(e.vi_title)}</div></a>\n      </div>`)}</div>\n\n  ${Object(n.c)(Object.entries(g),([e,A])=>`<h3 class="svelte-srgzr8">${Object(n.d)(e)}\n      <span class="label svelte-srgzr8">(${Object(n.d)(A.length)} chương)</span></h3>\n    <div class="chap-list svelte-srgzr8">${Object(n.c)(A,e=>`<div class="chap-item svelte-srgzr8"><a class="chap-link svelte-srgzr8" href="${"/"+Object(n.d)(m.vi_slug)+"/"+Object(n.d)(e.url_slug)+"-"+Object(n.d)(u)+"-"+Object(n.d)(e.csid)}"><div class="chap-title svelte-srgzr8">${Object(n.d)(e.vi_title)}</div></a>\n        </div>`)}\n    </div>`)}</div>`});A.default=m},function(e,A){e.exports=require("http")},function(e,A,t){"use strict";t.r(A),t.d(A,"preload",(function(){return p})),t.d(A,"render",(function(){return h}));var n=t(0),r=(t(5),t(2)),o=t(9),s=t(1);const a={code:"aside.svelte-1ce2fk1.svelte-1ce2fk1{position:fixed;display:block;top:0;right:0;width:30rem;max-width:90vw;height:100%;z-index:900;background-color:white;box-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);transform:translateX(100%)}aside._active.svelte-1ce2fk1.svelte-1ce2fk1{transform:translateX(0)}header.svelte-1ce2fk1.svelte-1ce2fk1{display:flex;height:3rem;padding:0.375rem 0.75rem;border-bottom:1px solid #e2e8f0}header.svelte-1ce2fk1.svelte-1ce2fk1 svg{display:inline-block;vertical-align:text-top;width:1.25rem;height:1.25rem}header.svelte-1ce2fk1 h2.svelte-1ce2fk1{margin-right:auto;font-weight:500;text-transform:uppercase;line-height:2.25rem;color:#718096;font-size:1rem}header.svelte-1ce2fk1 button.svelte-1ce2fk1{padding:0 0.5rem;color:#718096;background-color:transparent}header.svelte-1ce2fk1 button._active.svelte-1ce2fk1,header.svelte-1ce2fk1 button.svelte-1ce2fk1:hover{color:#3182ce}.input.svelte-1ce2fk1.svelte-1ce2fk1{overflow-y:auto;line-height:1.25rem;padding:0.375rem 0.75rem;border-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:#f7fafc}.input._vi.svelte-1ce2fk1.svelte-1ce2fk1{max-height:10.75rem;border-bottom:1px solid #e2e8f0;margin-bottom:0.75rem}.input._zh.svelte-1ce2fk1.svelte-1ce2fk1{max-height:8.25rem;border-top:1px solid #e2e8f0}section.svelte-1ce2fk1.svelte-1ce2fk1{height:calc(100% - 3rem);overflow-y:auto}x-zh{cursor:pointer}@media(hover: hover){x-zh:hover{color:#4299e1}}x-zh._active{color:#4299e1}h4.svelte-1ce2fk1.svelte-1ce2fk1{font-weight:500;text-transform:uppercase;color:#718096;font-size:1rem}x-vi{border-bottom:1px solid transparent}x-vi[data-d='1']{border-bottom-color:#90cdf4;cursor:pointer}x-vi[data-d='1']._active,x-vi[data-d='1']:hover{color:#3182ce}x-vi[data-d='2']{border-bottom-color:#81e6d9;cursor:pointer}x-vi[data-d='2']._active,x-vi[data-d='2']:hover{color:#319795}x-vi[data-d='3']{border-bottom-color:#feb2b2;cursor:pointer}x-vi[data-d='3']._active,x-vi[data-d='3']:hover{color:#e53e3e}x-vi[data-d='4']{border-color:#fbd38d;cursor:pointer}x-vi[data-d='4']._active,x-vi[data-d='4']:hover{color:#dd6b20}h3.svelte-1ce2fk1.svelte-1ce2fk1{font-weight:bold;font-size:1.125rem;color:#4a5568}.entry.svelte-1ce2fk1.svelte-1ce2fk1{padding:0.375rem 0.75rem;border-top:1px solid #e2e8f0}.item.svelte-1ce2fk1.svelte-1ce2fk1:after{display:block;content:'';clear:both}.item+.item.svelte-1ce2fk1.svelte-1ce2fk1{margin-top:0.5rem}.term.svelte-1ce2fk1.svelte-1ce2fk1{line-height:1.375rem;margin-top:0.25rem}",map:'{"version":3,"file":"Lookup.svelte","sources":["Lookup.svelte"],"sourcesContent":["<script context=\\"module\\">\\n  async function get_entries(line, from = 0, upto = from + 1) {\\n    // TODO: add udic\\n    const res = await fetch(\\n      `/api/lookup?line=${line}&from=${from}&upto=${upto}`\\n    )\\n    const entries = await res.json()\\n    return entries\\n  }\\n\\n  function replace_tag(tag) {\\n    return tags[tag] || tag\\n  }\\n\\n  function escape_html(str) {\\n    return str.replace(/[&<>]/g, replace_tag)\\n  }\\n\\n  function is_active(ax, ay, bx, by) {\\n    if (bx >= ax && bx < ay) return \'_active\'\\n    // if (ay >= bx && ay < by) return \'_active\'\\n    return \'\'\\n  }\\n\\n  function render(tokens, from, upto) {\\n    let zh = \'\'\\n    let vi = \'\'\\n\\n    let idx = 0\\n    let pos = 0\\n\\n    for (const [key, val, dic] of tokens) {\\n      const e_key = escape_html(key)\\n      const e_val = escape_html(val)\\n\\n      if (dic > 0) {\\n        key.split(\'\').forEach((k, i) => {\\n          let klass = is_active(from, upto, pos + i, pos + i + 1)\\n          zh += `<x-zh class=\\"${klass}\\" data-p=\\"${pos + i}\\">${escape_html(\\n            k\\n          )}</x-zh>`\\n        })\\n\\n        let klass = is_active(from, upto, pos, pos + key.length)\\n        vi += `<x-vi class=\\"${klass}\\" data-k=\\"${e_key}\\" data-i=\\"${idx}\\" data-d=\\"${dic}\\" data-p=\\"${pos}\\">${e_val}</x-vi>`\\n      } else {\\n        zh += e_key\\n        vi += e_val\\n      }\\n\\n      idx += 1\\n      pos += key.length\\n    }\\n\\n    return [zh, vi]\\n  }\\n<\/script>\\n\\n<script>\\n  import MIcon from \'$mould/MIcon.svelte\'\\n\\n  import {\\n    lookup_active as active,\\n    lookup_pinned as pinned,\\n    lookup_line as line,\\n    lookup_from as from,\\n    lookup_udic as udic,\\n  } from \'$src/stores.js\'\\n\\n  let upto = $from + 1\\n\\n  // let hanviet = []\\n  let entries = []\\n\\n  $: zh_text = $line.map(([zh]) => zh).join(\'\')\\n  $: [zh_html, vi_html] = render($line, $from, upto)\\n  $: if (line !== []) lookup(zh_text, $from)\\n\\n  async function lookup(zh_text, from) {\\n    // hanviet = await get_hanviet(text)\\n    entries = await get_entries(zh_text, from)\\n    if (entries.length > 0) upto = $from + +entries[0][0]\\n    else upto = $from + 1\\n  }\\n\\n  function handle_click(event) {\\n    const target = event.target\\n    if (target.nodeName == \'X-ZH\' || target.nodeName == \'X-VI\') {\\n      from.set(+target.dataset[\'p\'])\\n    }\\n  }\\n\\n  function handle_keypress(e) {\\n    if (e.keyCode != 92) return\\n    active.update(x => !x)\\n  }\\n\\n  function pin_sidebar() {\\n    pinned.update(x => !x)\\n  }\\n\\n  function close_sidebar() {\\n    active.set(false)\\n  }\\n<\/script>\\n\\n<style lang=\\"scss\\">aside {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  right: 0;\\n  width: 30rem;\\n  max-width: 90vw;\\n  height: 100%;\\n  z-index: 900;\\n  background-color: white;\\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\\n  transform: translateX(100%); }\\n  aside._active {\\n    transform: translateX(0); }\\n\\nheader {\\n  display: flex;\\n  height: 3rem;\\n  padding: 0.375rem 0.75rem;\\n  border-bottom: 1px solid #e2e8f0; }\\n  header :global(svg) {\\n    display: inline-block;\\n    vertical-align: text-top;\\n    width: 1.25rem;\\n    height: 1.25rem; }\\n  header h2 {\\n    margin-right: auto;\\n    font-weight: 500;\\n    text-transform: uppercase;\\n    line-height: 2.25rem;\\n    color: #718096;\\n    font-size: 1rem; }\\n  header button {\\n    padding: 0 0.5rem;\\n    color: #718096;\\n    background-color: transparent; }\\n    header button._active, header button:hover {\\n      color: #3182ce; }\\n\\n.input {\\n  overflow-y: auto;\\n  line-height: 1.25rem;\\n  padding: 0.375rem 0.75rem;\\n  border-radius: 4px;\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n  background-color: #f7fafc; }\\n  .input._vi {\\n    max-height: 10.75rem;\\n    border-bottom: 1px solid #e2e8f0;\\n    margin-bottom: 0.75rem; }\\n  .input._zh {\\n    max-height: 8.25rem;\\n    border-top: 1px solid #e2e8f0; }\\n\\nsection {\\n  height: calc(100% - 3rem);\\n  overflow-y: auto; }\\n\\n:global(x-zh) {\\n  cursor: pointer; }\\n  @media (hover: hover) {\\n    :global(x-zh):hover {\\n      color: #4299e1; } }\\n  :global(x-zh)._active {\\n    color: #4299e1; }\\n\\nh4 {\\n  font-weight: 500;\\n  text-transform: uppercase;\\n  color: #718096;\\n  font-size: 1rem; }\\n\\n:global(x-vi) {\\n  border-bottom: 1px solid transparent; }\\n  :global(x-vi)[data-d=\'1\'] {\\n    border-bottom-color: #90cdf4;\\n    cursor: pointer; }\\n    :global(x-vi)[data-d=\'1\']._active, :global(x-vi)[data-d=\'1\']:hover {\\n      color: #3182ce; }\\n  :global(x-vi)[data-d=\'2\'] {\\n    border-bottom-color: #81e6d9;\\n    cursor: pointer; }\\n    :global(x-vi)[data-d=\'2\']._active, :global(x-vi)[data-d=\'2\']:hover {\\n      color: #319795; }\\n  :global(x-vi)[data-d=\'3\'] {\\n    border-bottom-color: #feb2b2;\\n    cursor: pointer; }\\n    :global(x-vi)[data-d=\'3\']._active, :global(x-vi)[data-d=\'3\']:hover {\\n      color: #e53e3e; }\\n  :global(x-vi)[data-d=\'4\'] {\\n    border-color: #fbd38d;\\n    cursor: pointer; }\\n    :global(x-vi)[data-d=\'4\']._active, :global(x-vi)[data-d=\'4\']:hover {\\n      color: #dd6b20; }\\n\\nh3 {\\n  font-weight: bold;\\n  font-size: 1.125rem;\\n  color: #4a5568; }\\n\\n.entry {\\n  padding: 0.375rem 0.75rem;\\n  border-top: 1px solid #e2e8f0; }\\n\\n.item:after {\\n  display: block;\\n  content: \'\';\\n  clear: both; }\\n\\n.item + .item {\\n  margin-top: 0.5rem; }\\n\\n.term {\\n  line-height: 1.375rem;\\n  margin-top: 0.25rem; }\\n\\n/*# sourceMappingURL=Lookup.svelte.css.map */</style>\\n\\n<svelte:window on:keypress={handle_keypress} />\\n\\n<aside class:_active={$active}>\\n  <header>\\n    <h2>Giải nghĩa</h2>\\n\\n    <button class:_active={$pinned} on:click={pin_sidebar}>\\n      <svg\\n        xmlns=\\"http://www.w3.org/2000/svg\\"\\n        width=\\"24\\"\\n        height=\\"24\\"\\n        viewBox=\\"0 0 24 24\\"\\n        fill=\\"none\\"\\n        stroke=\\"currentColor\\"\\n        stroke-width=\\"2\\"\\n        stroke-linecap=\\"round\\"\\n        stroke-linejoin=\\"round\\">\\n        <path\\n          d=\\"M17.85 10.2l-4.24 5.65m4.24-5.66L13.6 5.95m4.24 4.24a2 2 0 0 0 2.83\\n          0l.7-.7-7.07-7.08-.7.71a2 2 0 0 0 0 2.83m0 9.9l-5.66-5.66m5.66\\n          5.66s1.76 2.47-.71 4.95L3 10.9c2.47-2.48 4.95-.7 4.95-.7m0\\n          0l5.66-4.25M7.95 15.85l-4.24 4.24\\" />\\n      </svg>\\n    </button>\\n\\n    <button on:click={close_sidebar}>\\n      <MIcon class=\\"m-icon\\" name=\\"x\\" />\\n    </button>\\n\\n  </header>\\n\\n  <section class=\\"lookup\\">\\n    <div class=\\"input _vi\\" on:click={handle_click}>\\n      {@html vi_html}\\n    </div>\\n\\n    <div class=\\"input _zh\\" on:click={handle_click}>\\n      {@html zh_html}\\n    </div>\\n\\n    {#each entries as [len, items]}\\n      <div class=\\"entry\\">\\n        <h3>{zh_text.substring($from, $from + len)}</h3>\\n        {#each items as [name, value]}\\n          <div class=\\"item\\">\\n            <h4>{name}</h4>\\n            {#each value.split(\'\\\\n\') as line}\\n              <p class=\\"term\\">{line}</p>\\n            {/each}\\n          </div>\\n        {/each}\\n      </div>\\n    {/each}\\n  </section>\\n</aside>\\n"],"names":[],"mappings":"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"}'};function i(e){return tags[e]||e}function l(e){return e.replace(/[&<>]/g,i)}function c(e,A,t,n){return t>=e&&t<A?"_active":""}Object(n.b)((e,A,t,o)=>{let i=Object(n.f)(s.b),C=Object(n.f)(s.c),p=Object(n.f)(s.a),d=Object(n.f)(s.d),m=i+1,u=[];e.css.add(a);let h=C.map(([e])=>e).join(""),[f,g]=function(e,A,t){let n="",r="",o=0,s=0;for(const[a,i,C]of e){const e=l(a),p=l(i);if(C>0){a.split("").forEach((e,r)=>{let o=c(A,t,s+r);n+=`<x-zh class="${o}" data-p="${s+r}">${l(e)}</x-zh>`}),r+=`<x-vi class="${c(A,t,s,a.length)}" data-k="${e}" data-i="${o}" data-d="${C}" data-p="${s}">${p}</x-vi>`}else n+=e,r+=p;o+=1,s+=a.length}return[n,r]}(C,i,m);return s.c!==[]&&async function(e,A){u=await async function(e,A=0,t=A+1){const n=await fetch(`/api/lookup?line=${e}&from=${A}&upto=${t}`);return await n.json()}(e,A),m=u.length>0?i+ +u[0][0]:i+1}(h,i),`\n\n<aside class="${["svelte-1ce2fk1",p?"_active":""].join(" ").trim()}"><header class="svelte-1ce2fk1"><h2 class="svelte-1ce2fk1">Giải nghĩa</h2>\n\n    <button class="${["svelte-1ce2fk1",d?"_active":""].join(" ").trim()}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.85 10.2l-4.24 5.65m4.24-5.66L13.6 5.95m4.24 4.24a2 2 0 0 0 2.83\n          0l.7-.7-7.07-7.08-.7.71a2 2 0 0 0 0 2.83m0 9.9l-5.66-5.66m5.66\n          5.66s1.76 2.47-.71 4.95L3 10.9c2.47-2.48 4.95-.7 4.95-.7m0\n          0l5.66-4.25M7.95 15.85l-4.24 4.24"></path></svg></button>\n\n    <button class="svelte-1ce2fk1">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"x"},{},{})}</button></header>\n\n  <section class="lookup svelte-1ce2fk1"><div class="input _vi svelte-1ce2fk1">${g}</div>\n\n    <div class="input _zh svelte-1ce2fk1">${f}</div>\n\n    ${Object(n.c)(u,([e,A])=>`<div class="entry svelte-1ce2fk1"><h3 class="svelte-1ce2fk1">${Object(n.d)(h.substring(i,i+e))}</h3>\n        ${Object(n.c)(A,([e,A])=>`<div class="item svelte-1ce2fk1"><h4 class="svelte-1ce2fk1">${Object(n.d)(e)}</h4>\n            ${Object(n.c)(A.split("\n"),e=>`<p class="term svelte-1ce2fk1">${Object(n.d)(e)}</p>`)}\n          </div>`)}\n      </div>`)}</section></aside>`});const C={code:"article.svelte-16wig0t.svelte-16wig0t{padding:0.75rem;word-wrap:break-word;text-align:justify;text-justify:auto}h1.svelte-16wig0t.svelte-16wig0t{font-size:1.375rem;line-height:1.5rem;border-bottom:1px solid #e2e8f0}@media screen and (min-width: 560px){h1.svelte-16wig0t.svelte-16wig0t{font-size:1.5rem}}@media screen and (min-width: 800px){h1.svelte-16wig0t.svelte-16wig0t{font-size:1.625rem}}@media screen and (min-width: 1040px){h1.svelte-16wig0t.svelte-16wig0t{font-size:1.75rem}}@media screen and (min-width: 1280px){h1.svelte-16wig0t.svelte-16wig0t{font-size:1.875rem}}@media screen and (min-width: 560px){h1.svelte-16wig0t.svelte-16wig0t{line-height:1.75rem}}@media screen and (min-width: 800px){h1.svelte-16wig0t.svelte-16wig0t{line-height:2rem}}@media screen and (min-width: 1040px){h1.svelte-16wig0t.svelte-16wig0t{line-height:2.25rem}}@media screen and (min-width: 1280px){h1.svelte-16wig0t.svelte-16wig0t{line-height:2.5rem}}p.svelte-16wig0t.svelte-16wig0t{font-size:1rem;margin-top:1rem}@media screen and (min-width: 560px){p.svelte-16wig0t.svelte-16wig0t{font-size:1.0625rem}}@media screen and (min-width: 800px){p.svelte-16wig0t.svelte-16wig0t{font-size:1.125rem}}@media screen and (min-width: 1040px){p.svelte-16wig0t.svelte-16wig0t{font-size:1.1875rem}}@media screen and (min-width: 1280px){p.svelte-16wig0t.svelte-16wig0t{font-size:1.25rem}}@media screen and (min-width: 800px){p.svelte-16wig0t.svelte-16wig0t{margin-top:1.25rem}}@media screen and (min-width: 1040px){p.svelte-16wig0t.svelte-16wig0t{margin-top:1.5rem}}cite{text-transform:capitalize;font-style:normal}footer.svelte-16wig0t.svelte-16wig0t{margin:0.75rem 0;display:flex;justify-content:center}footer.svelte-16wig0t .m-button.svelte-16wig0t{margin-left:0.5rem}x-v{border-bottom:1px solid transparent}x-v[data-d='1']{border-bottom-color:#90cdf4;cursor:pointer}@media(hover: hover){x-v[data-d='1']:hover{color:#3182ce}}x-v[data-d='2']{border-bottom-color:#81e6d9;cursor:pointer}@media(hover: hover){x-v[data-d='2']:hover{color:#319795}}x-v[data-d='3']{border-bottom-color:#feb2b2;cursor:pointer}@media(hover: hover){x-v[data-d='3']:hover{color:#e53e3e}}x-v[data-d='4']{border-color:#fbd38d;cursor:pointer}@media(hover: hover){x-v[data-d='4']:hover{color:#dd6b20}}",map:"{\"version\":3,\"file\":\"[chap].svelte\",\"sources\":[\"[chap].svelte\"],\"sourcesContent\":[\"<script context=\\\"module\\\">\\n  export async function preload({ params }) {\\n    const book = params.book\\n\\n    const slug = params.chap.split('-')\\n    const site = slug[slug.length - 2]\\n    const chap = slug[slug.length - 1]\\n\\n    const url = `api/books/${book}/${site}/${chap}`\\n\\n    try {\\n      const res = await this.fetch(url)\\n      const data = await res.json()\\n\\n      if (res.status == 200) return data\\n\\n      this.error(res.status, data.msg)\\n    } catch (err) {\\n      this.error(500, err.message)\\n    }\\n  }\\n\\n  const tags = {\\n    '<': '&lt;',\\n    '>': '&gt;',\\n    '\\\"': '&quot;',\\n    \\\"'\\\": '&apos;',\\n  }\\n\\n  function replace_tag(tag) {\\n    return tags[tag] || tag\\n  }\\n\\n  function escape_html(str) {\\n    return str.replace(/[&<>]/g, replace_tag)\\n  }\\n\\n  export function render(tokens, active = false) {\\n    let res = ''\\n    let idx = 0\\n    let pos = 0\\n\\n    for (const [key, val, dic] of tokens) {\\n      switch (val.charAt(0)) {\\n        case '⟨':\\n          res += '<cite>'\\n          break\\n        case '“':\\n          res += '<em>'\\n          break\\n      }\\n\\n      const text = escape_html(val)\\n\\n      if (active) {\\n        const e_key = escape_html(key)\\n        res += `<x-v data-k=\\\"${e_key}\\\" data-i=${idx} data-d=${dic} data-p=${pos}>${text}</x-v>`\\n      } else {\\n        res += text\\n      }\\n\\n      switch (val.charAt(val.length - 1)) {\\n        case '⟩':\\n          res += '</cite>'\\n          break\\n        case '”':\\n          res += '</em>'\\n          break\\n\\n        // if (val === '⟨') body += '<cite>⟨'\\n        //       else if (val === '⟩') body += '⟩</cite>'\\n        //       else if (val === '[') body += '<x-m>['\\n        //       else if (val === ']') body += ']</x-m>'\\n        //       else if (val === '“') body += '<q>'\\n        //       else if (val === '”') body += '</q>'\\n        //       else if (val === '‘') body += '<i>‘'\\n        //       else if (val === '’') body += '’</i>'\\n      }\\n\\n      idx += 1\\n      pos += key.length\\n    }\\n\\n    return res\\n  }\\n<\/script>\\n\\n<script>\\n  import { onMount } from 'svelte'\\n\\n  import MIcon from '$mould/MIcon.svelte'\\n  import Header from '$layout/Header.svelte'\\n  import Lookup from '$layout/Lookup.svelte'\\n\\n  import { lookup_active, lookup_line, lookup_from } from '$src/stores.js'\\n\\n  export let book_slug\\n  export let book_name\\n  export let prev_slug\\n  export let next_slug\\n  export let curr_slug\\n\\n  export let lines\\n  export let chidx\\n  export let total\\n\\n  let cur = 0\\n  let enable_lookup = false\\n\\n  function navigate(evt) {\\n    if (evt.ctrlKey || evt.altKey || evt.shiftKey) return\\n\\n    switch (evt.keyCode) {\\n      case 72:\\n        evt.preventDefault()\\n        _goto(book_slug)\\n        break\\n\\n      case 37:\\n      case 74:\\n        evt.preventDefault()\\n        if (prev_slug) _goto(`${book_slug}/${prev_slug}`)\\n        else _goto(book_slug)\\n\\n        break\\n\\n      case 39:\\n      case 75:\\n        if (next_slug) _goto(`${book_slug}/${next_slug}`)\\n        else _goto(`${book_slug}`)\\n        evt.preventDefault()\\n\\n        break\\n\\n      default:\\n        break\\n    }\\n  }\\n\\n  // onMount(() => {\\n  //   document.onselectionchange = selection\\n  // })\\n\\n  function selection(evt) {\\n    const nodes = get_selected()\\n    let key = ''\\n    for (const node of nodes) {\\n      if (node.nodeName == 'X-V') key += node.getAttribute('k')\\n    }\\n    console.log(key)\\n  }\\n\\n  function get_selected() {\\n    const sel = document.getSelection()\\n    if (sel.isCollapsed) return []\\n\\n    const range = sel.getRangeAt(0)\\n\\n    let node = range.startContainer\\n    const stop = range.endContainer\\n\\n    // Special case for a range that is contained within a single node\\n    if (node == stop) return [node]\\n\\n    // Iterate nodes until we hit the end container\\n    let nodes = []\\n    while (node && node != stop) {\\n      nodes.push((node = next_node(node)))\\n    }\\n\\n    // Add partially selected nodes at the start of the range\\n    node = range.startContainer\\n    while (node && node != range.commonAncestorContainer) {\\n      nodes.unshift(node)\\n      node = node.parentNode\\n    }\\n\\n    return nodes\\n  }\\n\\n  function next_node(node) {\\n    if (node.hasChildNodes()) return node.firstChild\\n    while (node && !node.nextSibling) node = node.parentNode\\n    if (!node) return null\\n    return node.nextSibling\\n  }\\n\\n  function lookup(evt, idx) {\\n    if (!enable_lookup) return\\n\\n    lookup_line.set(lines[idx])\\n    lookup_active.set(true)\\n\\n    if (evt.target.nodeName !== 'X-V') {\\n      lookup_from.set(0)\\n    } else {\\n      lookup_from.set(+evt.target.dataset['p'])\\n    }\\n  }\\n<\/script>\\n\\n<style lang=\\\"scss\\\">article {\\n  padding: 0.75rem;\\n  word-wrap: break-word;\\n  text-align: justify;\\n  text-justify: auto; }\\n\\nh1 {\\n  font-size: 1.375rem;\\n  line-height: 1.5rem;\\n  border-bottom: 1px solid #e2e8f0; }\\n  @media screen and (min-width: 560px) {\\n    h1 {\\n      font-size: 1.5rem; } }\\n  @media screen and (min-width: 800px) {\\n    h1 {\\n      font-size: 1.625rem; } }\\n  @media screen and (min-width: 1040px) {\\n    h1 {\\n      font-size: 1.75rem; } }\\n  @media screen and (min-width: 1280px) {\\n    h1 {\\n      font-size: 1.875rem; } }\\n  @media screen and (min-width: 560px) {\\n    h1 {\\n      line-height: 1.75rem; } }\\n  @media screen and (min-width: 800px) {\\n    h1 {\\n      line-height: 2rem; } }\\n  @media screen and (min-width: 1040px) {\\n    h1 {\\n      line-height: 2.25rem; } }\\n  @media screen and (min-width: 1280px) {\\n    h1 {\\n      line-height: 2.5rem; } }\\n\\np {\\n  font-size: 1rem;\\n  margin-top: 1rem; }\\n  @media screen and (min-width: 560px) {\\n    p {\\n      font-size: 1.0625rem; } }\\n  @media screen and (min-width: 800px) {\\n    p {\\n      font-size: 1.125rem; } }\\n  @media screen and (min-width: 1040px) {\\n    p {\\n      font-size: 1.1875rem; } }\\n  @media screen and (min-width: 1280px) {\\n    p {\\n      font-size: 1.25rem; } }\\n  @media screen and (min-width: 800px) {\\n    p {\\n      margin-top: 1.25rem; } }\\n  @media screen and (min-width: 1040px) {\\n    p {\\n      margin-top: 1.5rem; } }\\n\\n:global(cite) {\\n  text-transform: capitalize;\\n  font-style: normal; }\\n\\nfooter {\\n  margin: 0.75rem 0;\\n  display: flex;\\n  justify-content: center; }\\n  footer .m-button {\\n    margin-left: 0.5rem; }\\n\\n:global(x-v) {\\n  border-bottom: 1px solid transparent; }\\n  :global(x-v)[data-d='1'] {\\n    border-bottom-color: #90cdf4;\\n    cursor: pointer; }\\n    @media (hover: hover) {\\n      :global(x-v)[data-d='1']:hover {\\n        color: #3182ce; } }\\n  :global(x-v)[data-d='2'] {\\n    border-bottom-color: #81e6d9;\\n    cursor: pointer; }\\n    @media (hover: hover) {\\n      :global(x-v)[data-d='2']:hover {\\n        color: #319795; } }\\n  :global(x-v)[data-d='3'] {\\n    border-bottom-color: #feb2b2;\\n    cursor: pointer; }\\n    @media (hover: hover) {\\n      :global(x-v)[data-d='3']:hover {\\n        color: #e53e3e; } }\\n  :global(x-v)[data-d='4'] {\\n    border-color: #fbd38d;\\n    cursor: pointer; }\\n    @media (hover: hover) {\\n      :global(x-v)[data-d='4']:hover {\\n        color: #dd6b20; } }\\n\\n/*# sourceMappingURL=[chap].svelte.css.map */</style>\\n\\n<svelte:head>\\n  <title>{render(lines[0])} - {book_name} - Chivi</title>\\n</svelte:head>\\n\\n<svelte:window on:keydown={navigate} />\\n\\n<Header>\\n  <div class=\\\"left\\\">\\n    <a href=\\\"/\\\" class=\\\"header-item\\\">\\n      <img src=\\\"/logo.svg\\\" alt=\\\"logo\\\" />\\n    </a>\\n\\n    <a href=\\\"/{book_slug}\\\" class=\\\"header-item _title\\\">\\n      <span>{book_name}</span>\\n    </a>\\n\\n    <span class=\\\"header-item _active _index\\\">\\n      <span>Ch {chidx}/{total}</span>\\n    </span>\\n  </div>\\n\\n  <div class=\\\"right\\\">\\n    <a href=\\\"/{book_slug}/{curr_slug}?reload=true\\\" class=\\\"header-item\\\">\\n      <MIcon class=\\\"m-icon _refresh-ccw\\\" name=\\\"refresh-ccw\\\" />\\n    </a>\\n\\n    <button\\n      class=\\\"header-item\\\"\\n      class:_active={enable_lookup}\\n      on:click={() => (enable_lookup = !enable_lookup)}>\\n      <MIcon class=\\\"m-icon _compass\\\" name=\\\"compass\\\" />\\n    </button>\\n  </div>\\n</Header>\\n\\n<div class=\\\"wrapper\\\">\\n  <article>\\n    {#each lines as line, idx}\\n      {#if idx == 0}\\n        <h1\\n          class:_active={idx == cur}\\n          on:mouseenter={() => (cur = idx)}\\n          on:click={evt => lookup(evt, idx)}>\\n          {@html render(line, idx == cur)}\\n        </h1>\\n      {:else}\\n        <p\\n          class:_active={idx == cur}\\n          on:mouseenter={() => (cur = idx)}\\n          on:click={evt => lookup(evt, idx)}>\\n          {@html render(line, idx == cur)}\\n        </p>\\n      {/if}\\n    {/each}\\n  </article>\\n\\n  <footer>\\n    {#if prev_slug}\\n      <a class=\\\"m-button _line\\\" href=\\\"/{book_slug}/{prev_slug}\\\">\\n        <MIcon class=\\\"m-icon\\\" name=\\\"chevron-left\\\" />\\n        <span>Trước</span>\\n      </a>\\n    {:else}\\n      <a class=\\\"m-button _line\\\" href=\\\"/{book_slug}\\\">\\n        <MIcon class=\\\"m-icon\\\" name=\\\"list\\\" />\\n        <span>Mục lục</span>\\n      </a>\\n    {/if}\\n\\n    {#if next_slug}\\n      <a class=\\\"m-button _line _primary\\\" href=\\\"/{book_slug}/{next_slug}\\\">\\n        <span>Kế tiếp</span>\\n        <MIcon class=\\\"m-icon\\\" name=\\\"chevron-right\\\" />\\n      </a>\\n    {:else if prev_slug}\\n      <a class=\\\"m-button _line\\\" href=\\\"/{book_slug}\\\">\\n        <MIcon class=\\\"m-icon\\\" name=\\\"list\\\" />\\n        <span>Mục lục</span>\\n      </a>\\n    {/if}\\n  </footer>\\n</div>\\n\\n{#if enable_lookup}\\n  <Lookup />\\n{/if}\\n\"],\"names\":[],\"mappings\":\"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\"}"};async function p({params:e}){const A=e.book,t=e.chap.split("-"),n=`api/books/${A}/${t[t.length-2]}/${t[t.length-1]}`;try{const e=await this.fetch(n),A=await e.json();if(200==e.status)return A;this.error(e.status,A.msg)}catch(e){this.error(500,e.message)}}const d={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function m(e){return d[e]||e}function u(e){return e.replace(/[&<>]/g,m)}function h(e,A=!1){let t="",n=0,r=0;for(const[o,s,a]of e){switch(s.charAt(0)){case"⟨":t+="<cite>";break;case"“":t+="<em>"}const e=u(s);if(A){t+=`<x-v data-k="${u(o)}" data-i=${n} data-d=${a} data-p=${r}>${e}</x-v>`}else t+=e;switch(s.charAt(s.length-1)){case"⟩":t+="</cite>";break;case"”":t+="</em>"}n+=1,r+=o.length}return t}const f=Object(n.b)((e,A,t,s)=>{let{book_slug:a}=A,{book_name:i}=A,{prev_slug:l}=A,{next_slug:c}=A,{curr_slug:p}=A,{lines:d}=A,{chidx:m}=A,{total:u}=A;return void 0===A.book_slug&&t.book_slug&&void 0!==a&&t.book_slug(a),void 0===A.book_name&&t.book_name&&void 0!==i&&t.book_name(i),void 0===A.prev_slug&&t.prev_slug&&void 0!==l&&t.prev_slug(l),void 0===A.next_slug&&t.next_slug&&void 0!==c&&t.next_slug(c),void 0===A.curr_slug&&t.curr_slug&&void 0!==p&&t.curr_slug(p),void 0===A.lines&&t.lines&&void 0!==d&&t.lines(d),void 0===A.chidx&&t.chidx&&void 0!==m&&t.chidx(m),void 0===A.total&&t.total&&void 0!==u&&t.total(u),e.css.add(C),`${e.head+=""+(e.title=`<title>${Object(n.d)(h(d[0]))} - ${Object(n.d)(i)} - Chivi</title>`,""),""}\n\n\n\n${Object(n.o)(o.a,"Header").$$render(e,{},{},{default:()=>`<div class="left"><a href="/" class="header-item"><img src="/logo.svg" alt="logo"></a>\n\n    <a href="${"/"+Object(n.d)(a)}" class="header-item _title"><span>${Object(n.d)(i)}</span></a>\n\n    <span class="header-item _active _index"><span>Ch ${Object(n.d)(m)}/${Object(n.d)(u)}</span></span></div>\n\n  <div class="right"><a href="${"/"+Object(n.d)(a)+"/"+Object(n.d)(p)+"?reload=true"}" class="header-item">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon _refresh-ccw",name:"refresh-ccw"},{},{})}</a>\n\n    <button class="${["header-item",""].join(" ").trim()}">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon _compass",name:"compass"},{},{})}</button></div>`})}\n\n<div class="wrapper"><article class="svelte-16wig0t">${Object(n.c)(d,(e,A)=>""+(0==A?`<h1 class="${["svelte-16wig0t",0==A?"_active":""].join(" ").trim()}">${h(e,0==A)}\n        </h1>`:`<p class="${["svelte-16wig0t",0==A?"_active":""].join(" ").trim()}">${h(e,0==A)}\n        </p>`))}</article>\n\n  <footer class="svelte-16wig0t">${l?`<a class="m-button _line svelte-16wig0t" href="${"/"+Object(n.d)(a)+"/"+Object(n.d)(l)}">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevron-left"},{},{})}\n        <span>Trước</span></a>`:`<a class="m-button _line svelte-16wig0t" href="${"/"+Object(n.d)(a)}">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"list"},{},{})}\n        <span>Mục lục</span></a>`}\n\n    ${c?`<a class="m-button _line _primary svelte-16wig0t" href="${"/"+Object(n.d)(a)+"/"+Object(n.d)(c)}"><span>Kế tiếp</span>\n        ${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"chevron-right"},{},{})}</a>`:""+(l?`<a class="m-button _line svelte-16wig0t" href="${"/"+Object(n.d)(a)}">${Object(n.o)(r.a,"MIcon").$$render(e,{class:"m-icon",name:"list"},{},{})}\n        <span>Mục lục</span></a>`:"")}</footer></div>\n\n`});A.default=f},function(e,A){e.exports=require("sirv")},function(e,A){e.exports=require("polka")},function(e,A){e.exports=require("compression")},function(e,A){e.exports=require("https")},function(e,A){e.exports=require("http-proxy-middleware")},function(e,A,t){"use strict";t.r(A);var n=t(15),r=t.n(n),o=t(16),s=t.n(o),a=t(17),i=t.n(a),l=t(6),c=t(7),C=t(11),p=t(12),d=t(14),m=t(0),u=t(5),h=t(3);const f={},g=()=>({}),v={code:"h1.svelte-1q6awkm,p.svelte-1q6awkm{margin:0 auto}h1.svelte-1q6awkm{font-size:2.8em;font-weight:700;margin:0 0 0.5em 0}p.svelte-1q6awkm{margin:1em auto}@media screen and (min-width: 560px){h1.svelte-1q6awkm{font-size:4em}}article.svelte-1q6awkm{padding:2rem}",map:'{"version":3,"file":"_error.svelte","sources":["_error.svelte"],"sourcesContent":["<script>\\n  export let status\\n  export let error\\n\\n  const dev = process.env.NODE_ENV === \'development\'\\n<\/script>\\n\\n<style lang=\\"scss\\">h1,\\np {\\n  margin: 0 auto; }\\n\\nh1 {\\n  font-size: 2.8em;\\n  font-weight: 700;\\n  margin: 0 0 0.5em 0; }\\n\\np {\\n  margin: 1em auto; }\\n\\n@media screen and (min-width: 560px) {\\n  h1 {\\n    font-size: 4em; } }\\n\\narticle {\\n  padding: 2rem; }\\n\\n/*# sourceMappingURL=_error.svelte.css.map */</style>\\n\\n<svelte:head>\\n  <title>{status}</title>\\n</svelte:head>\\n\\n<div class=\\"wrapper\\">\\n  <article>\\n    <h1>{status}</h1>\\n\\n    <p>{error.message}</p>\\n\\n    {#if dev && error.stack}\\n      <pre>{error.stack}</pre>\\n    {/if}\\n  </article>\\n</div>\\n"],"names":[],"mappings":"AAOmB,iBAAE,CACrB,CAAC,eAAC,CAAC,AACD,MAAM,CAAE,CAAC,CAAC,IAAI,AAAE,CAAC,AAEnB,EAAE,eAAC,CAAC,AACF,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,AAAE,CAAC,AAExB,CAAC,eAAC,CAAC,AACD,MAAM,CAAE,GAAG,CAAC,IAAI,AAAE,CAAC,AAErB,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACpC,EAAE,eAAC,CAAC,AACF,SAAS,CAAE,GAAG,AAAE,CAAC,AAAC,CAAC,AAEvB,OAAO,eAAC,CAAC,AACP,OAAO,CAAE,IAAI,AAAE,CAAC"}'};var b=Object(m.b)((e,A,t,n)=>{let{status:r}=A,{error:o}=A;return void 0===A.status&&t.status&&void 0!==r&&t.status(r),void 0===A.error&&t.error&&void 0!==o&&t.error(o),e.css.add(v),`${e.head+=""+(e.title=`<title>${Object(m.d)(r)}</title>`,""),""}\n\n<div class="wrapper"><article class="svelte-1q6awkm"><h1 class="svelte-1q6awkm">${Object(m.d)(r)}</h1>\n\n    <p class="svelte-1q6awkm">${Object(m.d)(o.message)}</p>\n\n    </article></div>`});var x=Object(m.b)((e,A,t,n)=>{let{stores:r}=A,{error:o}=A,{status:s}=A,{segments:a}=A,{level0:i}=A,{level1:l=null}=A;return Object(u.c)(f,r),void 0===A.stores&&t.stores&&void 0!==r&&t.stores(r),void 0===A.error&&t.error&&void 0!==o&&t.error(o),void 0===A.status&&t.status&&void 0!==s&&t.status(s),void 0===A.segments&&t.segments&&void 0!==a&&t.segments(a),void 0===A.level0&&t.level0&&void 0!==i&&t.level0(i),void 0===A.level1&&t.level1&&void 0!==l&&t.level1(l),"\n\n\n"+Object(m.o)(V,"Layout").$$render(e,Object.assign({segment:a[0]},i.props),{},{default:()=>""+(o?""+Object(m.o)(b,"Error").$$render(e,{error:o,status:s},{},{}):""+Object(m.o)(l.component||m.h,"svelte:component").$$render(e,Object.assign(l.props),{},{}))})});const E=[],O=[{js:()=>Promise.resolve().then(t.bind(null,11)),css:"__SAPPER_CSS_PLACEHOLDER:index.svelte__"},{js:()=>Promise.resolve().then(t.bind(null,12)),css:"__SAPPER_CSS_PLACEHOLDER:[book]/index.svelte__"},{js:()=>Promise.resolve().then(t.bind(null,14)),css:"__SAPPER_CSS_PLACEHOLDER:[book]/[chap].svelte__"}],y=(e=>[{pattern:/^\/$/,parts:[{i:0}]},{pattern:/^\/([^\/]+?)\/?$/,parts:[{i:1,params:A=>({book:e(A[1])})}]},{pattern:/^\/([^\/]+?)\/([^\/]+?)\/?$/,parts:[null,{i:2,params:A=>({book:e(A[1]),chap:e(A[2])})}]}])(decodeURIComponent);const w="undefined"!=typeof __SAPPER__&&__SAPPER__;let k,_,B,M=!1,j=[],$="{}";const z={page:Object(h.a)({}),preloading:Object(h.a)(null),session:Object(h.a)(w&&w.session)};let K,G;z.session.subscribe(async e=>{if(K=e,!M)return;G=!0;const A=P(new URL(location.href)),t=_={},{redirect:n,props:r,branch:o}=await D(A);t===_&&await R(n,o,r,A.page)});let S,I=null;let U,Q=1;const Y="undefined"!=typeof history?history:{pushState:(e,A,t)=>{},replaceState:(e,A,t)=>{},scrollRestoration:""},W={};function T(e){const A=Object.create(null);return e.length>0&&e.slice(1).split("&").forEach(e=>{let[,t,n=""]=/([^=]*)(?:=(.*))?/.exec(decodeURIComponent(e.replace(/\+/g," ")));"string"==typeof A[t]&&(A[t]=[A[t]]),"object"==typeof A[t]?A[t].push(n):A[t]=n}),A}function P(e){if(e.origin!==location.origin)return null;if(!e.pathname.startsWith(w.baseUrl))return null;let A=e.pathname.slice(w.baseUrl.length);if(""===A&&(A="/"),!E.some(e=>e.test(A)))for(let t=0;t<y.length;t+=1){const n=y[t],r=n.pattern.exec(A);if(r){const t=T(e.search),o=n.parts[n.parts.length-1],s=o.params?o.params(r):{},a={host:location.host,path:A,query:t,params:s};return{href:e.href,route:n,match:r,page:a}}}}function q(){return{x:pageXOffset,y:pageYOffset}}async function L(e,A,t,n){if(A)U=A;else{const e=q();W[U]=e,A=U=++Q,W[U]=t?e:{x:0,y:0}}U=A,k&&z.preloading.set(!0);const r=I&&I.href===e.href?I.promise:D(e);I=null;const o=_={},{redirect:s,props:a,branch:i}=await r;if(o===_&&(await R(s,i,a,e.page),document.activeElement&&document.activeElement.blur(),!t)){let e=W[A];if(n){const A=document.getElementById(n.slice(1));A&&(e={x:0,y:A.getBoundingClientRect().top})}W[U]=e,e&&scrollTo(e.x,e.y)}}async function R(e,A,t,n){if(e)return function(e,A={replaceState:!1}){const t=P(new URL(e,document.baseURI));return t?(Y[A.replaceState?"replaceState":"pushState"]({id:U},"",e),L(t,null).then(()=>{})):(location.href=e,new Promise(e=>{}))}(e.location,{replaceState:!0});if(z.page.set(n),z.preloading.set(!1),k)k.$set(t);else{t.stores={page:{subscribe:z.page.subscribe},preloading:{subscribe:z.preloading.subscribe},session:z.session},t.level0={props:await B};const e=document.querySelector("#sapper-head-start"),A=document.querySelector("#sapper-head-end");if(e&&A){for(;e.nextSibling!==A;)F(e.nextSibling);F(e),F(A)}k=new x({target:S,props:t,hydrate:!0})}j=A,$=JSON.stringify(n.query),M=!0,G=!1}async function D(e){const{route:A,page:t}=e,n=t.path.split("/").filter(Boolean);let r=null;const o={error:null,status:200,segments:[n[0]]},s={fetch:(e,A)=>fetch(e,A),redirect:(e,A)=>{if(r&&(r.statusCode!==e||r.location!==A))throw new Error("Conflicting redirects");r={statusCode:e,location:A}},error:(e,A)=>{o.error="string"==typeof A?new Error(A):A,o.status=e}};let a;B||(B=w.preloaded[0]||g.call(s,{host:t.host,path:t.path,query:t.query,params:{}},K));let i=1;try{const r=JSON.stringify(t.query),l=A.pattern.exec(t.path);let c=!1;a=await Promise.all(A.parts.map(async(A,a)=>{const C=n[a];if(function(e,A,t,n){if(n!==$)return!0;const r=j[e];return!!r&&(A!==r.segment||(!(!r.match||JSON.stringify(r.match.slice(1,e+2))===JSON.stringify(t.slice(1,e+2)))||void 0))}(a,C,l,r)&&(c=!0),o.segments[i]=n[a+1],!A)return{segment:C};const p=i++;if(!G&&!c&&j[a]&&j[a].part===A.i)return j[a];c=!1;const{default:d,preload:m}=await H(O[A.i]);let u;return u=M||!w.preloaded[a+1]?m?await m.call(s,{host:t.host,path:t.path,query:t.query,params:A.params?A.params(e.match):{}},K):{}:w.preloaded[a+1],o["level"+p]={component:d,props:u,segment:C,match:l,part:A.i}}))}catch(e){o.error=e,o.status=500,a=[]}return{redirect:r,props:o,branch:a}}function N(e){const A="client/"+e;if(!document.querySelector(`link[href="${A}"]`))return new Promise((e,t)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=A,n.onload=()=>e(),n.onerror=t,document.head.appendChild(n)})}function H(e){const A="string"==typeof e.css?[]:e.css.map(N);return A.unshift(e.js()),Promise.all(A).then(e=>e[0])}function F(e){e.parentNode.removeChild(e)}var X=t(1);const Z={code:"@media screen and (min-width: 1040px){main._tilt.svelte-1bq8dnd{margin-right:30rem}}.wrapper{padding:0;margin:0 auto;width:54rem;max-width:100%}",map:'{"version":3,"file":"_layout.svelte","sources":["_layout.svelte"],"sourcesContent":["<script>\\n  // export let segment = \'\'\\n  import { stores } from \'@sapper/app\'\\n  const { page } = stores()\\n\\n  import { lookup_pinned, lookup_active } from \'../stores.js\'\\n\\n  $: {\\n    if (typeof gtag === \'function\') {\\n      window.gtag(\'config\', \'UA-160000714-1\', {\\n        page_path: $page.path,\\n      })\\n    }\\n  }\\n\\n  function navigate(evt) {\\n    if (evt.ctrlKey || evt.altKey || evt.shiftKey) return\\n\\n    switch (evt.keyCode) {\\n      case 73:\\n        _goto(\'/\')\\n        evt.preventDefault()\\n        break\\n\\n      default:\\n        break\\n    }\\n  }\\n<\/script>\\n\\n<style lang=\\"scss\\">@media screen and (min-width: 1040px) {\\n  main._tilt {\\n    margin-right: 30rem; } }\\n\\n:global(.wrapper) {\\n  padding: 0;\\n  margin: 0 auto;\\n  width: 54rem;\\n  max-width: 100%; }\\n\\n/*# sourceMappingURL=_layout.svelte.css.map */</style>\\n\\n<svelte:window on:keydown={navigate} />\\n\\n<main class:_tilt={$lookup_pinned && $lookup_active}>\\n  <slot />\\n</main>\\n"],"names":[],"mappings":"AA8BmB,OAAO,MAAM,CAAC,GAAG,CAAC,YAAY,MAAM,CAAC,AAAC,CAAC,AACxD,IAAI,MAAM,eAAC,CAAC,AACV,YAAY,CAAE,KAAK,AAAE,CAAC,AAAC,CAAC,AAEpB,QAAQ,AAAE,CAAC,AACjB,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,KAAK,CAAE,KAAK,CACZ,SAAS,CAAE,IAAI,AAAE,CAAC"}'};var V=Object(m.b)((e,A,t,n)=>{let r,o=Object(m.f)(X.d),s=Object(m.f)(X.a);const{page:a}=Object(u.a)(f);return r=Object(m.f)(a),e.css.add(Z),r=Object(m.f)(a),"function"==typeof gtag&&window.gtag("config","UA-160000714-1",{page_path:r.path}),`\n\n<main class="${["svelte-1bq8dnd",o&&s?"_tilt":""].join(" ").trim()}">${n.default?n.default({}):""}</main>`});const J=decodeURIComponent,ee={server_routes:[],pages:[{pattern:/^\/$/,parts:[{name:"index",file:"index.svelte",component:C.default,preload:C.preload}]},{pattern:/^\/([^\/]+?)\/?$/,parts:[{name:"$book",file:"[book]/index.svelte",component:p.default,preload:p.preload,params:e=>({book:J(e[1])})}]},{pattern:/^\/([^\/]+?)\/([^\/]+?)\/?$/,parts:[null,{name:"$book$93_$91chap",file:"[book]/[chap].svelte",component:d.default,preload:d.preload,params:e=>({book:J(e[1]),chap:J(e[2])})}]}],root:V,root_preload:()=>{},error:b},Ae="__sapper__/build";var te=t(4),ne=t(13),re=t(10),oe=t(18),se=t(8);function ae(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}ae.prototype.define=function(e,A){for(var t in e){var n=e[t].map((function(e){return e.toLowerCase()}));t=t.toLowerCase();for(var r=0;r<n.length;r++){if("*"!=(o=n[r])[0]){if(!A&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+t+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+t+'".');this._types[o]=t}}if(A||!this._extensions[t]){var o=n[0];this._extensions[t]="*"!=o[0]?o:o.substr(1)}}},ae.prototype.getType=function(e){var A=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),t=A.replace(/^.*\./,"").toLowerCase(),n=A.length<e.length;return(t.length<A.length-1||!n)&&this._types[t]||null},ae.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null};var ie=new ae({"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]});function le(e){async function A(e,A,t,n){A.params=e.params(e.pattern.exec(A.path));const r=A.method.toLowerCase(),o="delete"===r?"del":r,s=e.handlers[o];if(s){if(process.env.SAPPER_EXPORT){const{write:e,end:n,setHeader:r}=t,o=[],s={};t.write=function(A){o.push(Buffer.from(A)),e.apply(t,arguments)},t.setHeader=function(e,A){s[e.toLowerCase()]=A,r.apply(t,arguments)},t.end=function(e){e&&o.push(Buffer.from(e)),n.apply(t,arguments),process.send({__sapper__:!0,event:"file",url:A.url,method:A.method,status:t.statusCode,type:s["content-type"],body:Buffer.concat(o).toString()})}}const e=e=>{e?(t.statusCode=500,t.end(e.message)):process.nextTick(n)};try{await s(A,t,e)}catch(A){console.error(A),e(A)}}else process.nextTick(n)}return function(t,n,r){for(const o of e)if(o.pattern.test(t.path))return void A(o,t,n,r);r()}}
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ce=function(e,A){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var t={},n=A||{},r=e.split(me),o=n.decode||pe,s=0;s<r.length;s++){var a=r[s],i=a.indexOf("=");if(!(i<0)){var l=a.substr(0,i).trim(),c=a.substr(++i,a.length).trim();'"'==c[0]&&(c=c.slice(1,-1)),null==t[l]&&(t[l]=he(c,o))}}return t},Ce=function(e,A,t){var n=t||{},r=n.encode||de;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!ue.test(e))throw new TypeError("argument name is invalid");var o=r(A);if(o&&!ue.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=n.maxAge){var a=n.maxAge-0;if(isNaN(a))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!ue.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!ue.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(s+="; HttpOnly");n.secure&&(s+="; Secure");if(n.sameSite){switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},pe=decodeURIComponent,de=encodeURIComponent,me=/; */,ue=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function he(e,A){try{return A(e)}catch(A){return e}}var fe={parse:ce,serialize:Ce},ge="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",ve=/[<>\b\f\n\r\t\0\u2028\u2029]/g,be=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/,xe={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Ee=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oe(e){var A=new Map;!function e(t){if("function"==typeof t)throw new Error("Cannot stringify a function");if(A.has(t))A.set(t,A.get(t)+1);else if(A.set(t,1),!ye(t))switch(ke(t)){case"Number":case"String":case"Boolean":case"Date":case"RegExp":return;case"Array":t.forEach(e);break;case"Set":case"Map":Array.from(t).forEach(e);break;default:var n=Object.getPrototypeOf(t);if(n!==Object.prototype&&null!==n&&Object.getOwnPropertyNames(n).sort().join("\0")!==Ee)throw new Error("Cannot stringify arbitrary non-POJOs");if(Object.getOwnPropertySymbols(t).length>0)throw new Error("Cannot stringify POJOs with symbolic keys");Object.keys(t).forEach((function(A){return e(t[A])}))}}(e);var t=new Map;function n(e){if(t.has(e))return t.get(e);if(ye(e))return we(e);var A=ke(e);switch(A){case"Number":case"String":case"Boolean":return"Object("+n(e.valueOf())+")";case"RegExp":return e.toString();case"Date":return"new Date("+e.getTime()+")";case"Array":var r=e.map((function(A,t){return t in e?n(A):""})),o=0===e.length||e.length-1 in e?"":",";return"["+r.join(",")+o+"]";case"Set":case"Map":return"new "+A+"(["+Array.from(e).map(n).join(",")+"])";default:var s="{"+Object.keys(e).map((function(A){return function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:Be(JSON.stringify(e))}(A)+":"+n(e[A])})).join(",")+"}";return null===Object.getPrototypeOf(e)?Object.keys(e).length>0?"Object.assign(Object.create(null),"+s+")":"Object.create(null)":s}}Array.from(A).filter((function(e){return e[1]>1})).sort((function(e,A){return A[1]-e[1]})).forEach((function(e,A){t.set(e[0],function(e){var A="";do{A=ge[e%ge.length]+A,e=~~(e/ge.length)-1}while(e>=0);return be.test(A)?A+"_":A}(A))}));var r=n(e);if(t.size){var o=[],s=[],a=[];return t.forEach((function(e,A){if(o.push(e),ye(A))a.push(we(A));else switch(ke(A)){case"Number":case"String":case"Boolean":a.push("Object("+n(A.valueOf())+")");break;case"RegExp":a.push(A.toString());break;case"Date":a.push("new Date("+A.getTime()+")");break;case"Array":a.push("Array("+A.length+")"),A.forEach((function(A,t){s.push(e+"["+t+"]="+n(A))}));break;case"Set":a.push("new Set"),s.push(e+"."+Array.from(A).map((function(e){return"add("+n(e)+")"})).join("."));break;case"Map":a.push("new Map"),s.push(e+"."+Array.from(A).map((function(e){var A=e[0],t=e[1];return"set("+n(A)+", "+n(t)+")"})).join("."));break;default:a.push(null===Object.getPrototypeOf(A)?"Object.create(null)":"{}"),Object.keys(A).forEach((function(t){s.push(""+e+function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?"."+e:"["+Be(JSON.stringify(e))+"]"}(t)+"="+n(A[t]))}))}})),s.push("return "+r),"(function("+o.join(",")+"){"+s.join(";")+"}("+a.join(",")+"))"}return r}function ye(e){return Object(e)!==e}function we(e){if("string"==typeof e)return function(e){for(var A='"',t=0;t<e.length;t+=1){var n=e.charAt(t),r=n.charCodeAt(0);if('"'===n)A+='\\"';else if(n in xe)A+=xe[n];else if(r>=55296&&r<=57343){var o=e.charCodeAt(t+1);A+=r<=56319&&o>=56320&&o<=57343?n+e[++t]:"\\u"+r.toString(16).toUpperCase()}else A+=n}return A+='"'}(e);if(void 0===e)return"void 0";if(0===e&&1/e<0)return"-0";var A=String(e);return"number"==typeof e?A.replace(/^(-)?0\./,"$1."):A}function ke(e){return Object.prototype.toString.call(e).slice(8,-1)}function _e(e){return xe[e]||e}function Be(e){return e.replace(ve,_e)}const Me=te.Readable,je=Symbol("buffer"),$e=Symbol("type");class ze{constructor(){this[$e]="";const e=arguments[0],A=arguments[1],t=[];let n=0;if(e){const A=e,r=Number(A.length);for(let e=0;e<r;e++){const r=A[e];let o;o=r instanceof Buffer?r:ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?Buffer.from(r):r instanceof ze?r[je]:Buffer.from("string"==typeof r?r:String(r)),n+=o.length,t.push(o)}}this[je]=Buffer.concat(t);let r=A&&void 0!==A.type&&String(A.type).toLowerCase();r&&!/[^\u0020-\u007E]/.test(r)&&(this[$e]=r)}get size(){return this[je].length}get type(){return this[$e]}text(){return Promise.resolve(this[je].toString())}arrayBuffer(){const e=this[je],A=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(A)}stream(){const e=new Me;return e._read=function(){},e.push(this[je]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,A=arguments[0],t=arguments[1];let n,r;n=void 0===A?0:A<0?Math.max(e+A,0):Math.min(A,e),r=void 0===t?e:t<0?Math.max(e+t,0):Math.min(t,e);const o=Math.max(r-n,0),s=this[je].slice(n,n+o),a=new ze([],{type:arguments[2]});return a[je]=s,a}}function Ke(e,A,t){Error.call(this,e),this.message=e,this.type=A,t&&(this.code=this.errno=t.code),Error.captureStackTrace(this,this.constructor)}let Ge;Object.defineProperties(ze.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(ze.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),Ke.prototype=Object.create(Error.prototype),Ke.prototype.constructor=Ke,Ke.prototype.name="FetchError";try{Ge=require("encoding").convert}catch(e){}const Se=Symbol("Body internals"),Ie=te.PassThrough;function Ue(e){var A=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size;let r=void 0===n?0:n;var o=t.timeout;let s=void 0===o?0:o;null==e?e=null:Ye(e)?e=Buffer.from(e.toString()):We(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof te||(e=Buffer.from(String(e)))),this[Se]={body:e,disturbed:!1,error:null},this.size=r,this.timeout=s,e instanceof te&&e.on("error",(function(e){const t="AbortError"===e.name?e:new Ke(`Invalid response body while trying to fetch ${A.url}: ${e.message}`,"system",e);A[Se].error=t}))}function Qe(){var e=this;if(this[Se].disturbed)return Ue.Promise.reject(new TypeError("body used already for: "+this.url));if(this[Se].disturbed=!0,this[Se].error)return Ue.Promise.reject(this[Se].error);let A=this.body;if(null===A)return Ue.Promise.resolve(Buffer.alloc(0));if(We(A)&&(A=A.stream()),Buffer.isBuffer(A))return Ue.Promise.resolve(A);if(!(A instanceof te))return Ue.Promise.resolve(Buffer.alloc(0));let t=[],n=0,r=!1;return new Ue.Promise((function(o,s){let a;e.timeout&&(a=setTimeout((function(){r=!0,s(new Ke(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),A.on("error",(function(A){"AbortError"===A.name?(r=!0,s(A)):s(new Ke(`Invalid response body while trying to fetch ${e.url}: ${A.message}`,"system",A))})),A.on("data",(function(A){if(!r&&null!==A){if(e.size&&n+A.length>e.size)return r=!0,void s(new Ke(`content size at ${e.url} over limit: ${e.size}`,"max-size"));n+=A.length,t.push(A)}})),A.on("end",(function(){if(!r){clearTimeout(a);try{o(Buffer.concat(t,n))}catch(A){s(new Ke(`Could not create Buffer from response body for ${e.url}: ${A.message}`,"system",A))}}}))}))}function Ye(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function We(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function Te(e){let A,t,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof te&&"function"!=typeof n.getBoundary&&(A=new Ie,t=new Ie,n.pipe(A),n.pipe(t),e[Se].body=A,n=t),n}function Pe(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":Ye(e)?"application/x-www-form-urlencoded;charset=UTF-8":We(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof te?null:"text/plain;charset=UTF-8"}function qe(e){const A=e.body;return null===A?0:We(A)?A.size:Buffer.isBuffer(A)?A.length:A&&"function"==typeof A.getLengthSync&&(A._lengthRetrievers&&0==A._lengthRetrievers.length||A.hasKnownLength&&A.hasKnownLength())?A.getLengthSync():null}Ue.prototype={get body(){return this[Se].body},get bodyUsed(){return this[Se].disturbed},arrayBuffer(){return Qe.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return Qe.call(this).then((function(A){return Object.assign(new ze([],{type:e.toLowerCase()}),{[je]:A})}))},json(){var e=this;return Qe.call(this).then((function(A){try{return JSON.parse(A.toString())}catch(A){return Ue.Promise.reject(new Ke(`invalid json response body at ${e.url} reason: ${A.message}`,"invalid-json"))}}))},text(){return Qe.call(this).then((function(e){return e.toString()}))},buffer(){return Qe.call(this)},textConverted(){var e=this;return Qe.call(this).then((function(A){return function(e,A){if("function"!=typeof Ge)throw new Error("The package `encoding` must be installed to use the textConverted() function");const t=A.get("content-type");let n,r,o="utf-8";t&&(n=/charset=([^;]*)/i.exec(t));r=e.slice(0,1024).toString(),!n&&r&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(r));!n&&r&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(r),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&r&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(r));n&&(o=n.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return Ge(e,"UTF-8",o).toString()}(A,e.headers)}))}},Object.defineProperties(Ue.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Ue.mixIn=function(e){for(const A of Object.getOwnPropertyNames(Ue.prototype))if(!(A in e)){const t=Object.getOwnPropertyDescriptor(Ue.prototype,A);Object.defineProperty(e,A,t)}},Ue.Promise=global.Promise;const Le=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Re=/[^\t\x20-\x7e\x80-\xff]/;function De(e){if(e=""+e,Le.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function Ne(e){if(e=""+e,Re.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function He(e,A){A=A.toLowerCase();for(const t in e)if(t.toLowerCase()===A)return t}const Fe=Symbol("map");class Xe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[Fe]=Object.create(null),e instanceof Xe){const A=e.raw(),t=Object.keys(A);for(const e of t)for(const t of A[e])this.append(e,t)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const A=e[Symbol.iterator];if(null!=A){if("function"!=typeof A)throw new TypeError("Header pairs must be iterable");const t=[];for(const A of e){if("object"!=typeof A||"function"!=typeof A[Symbol.iterator])throw new TypeError("Each header pair must be iterable");t.push(Array.from(A))}for(const e of t){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const A of Object.keys(e)){const t=e[A];this.append(A,t)}}}}get(e){De(e=""+e);const A=He(this[Fe],e);return void 0===A?null:this[Fe][A].join(", ")}forEach(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=Ze(this),n=0;for(;n<t.length;){var r=t[n];const o=r[0],s=r[1];e.call(A,s,o,this),t=Ze(this),n++}}set(e,A){A=""+A,De(e=""+e),Ne(A);const t=He(this[Fe],e);this[Fe][void 0!==t?t:e]=[A]}append(e,A){A=""+A,De(e=""+e),Ne(A);const t=He(this[Fe],e);void 0!==t?this[Fe][t].push(A):this[Fe][e]=[A]}has(e){return De(e=""+e),void 0!==He(this[Fe],e)}delete(e){De(e=""+e);const A=He(this[Fe],e);void 0!==A&&delete this[Fe][A]}raw(){return this[Fe]}keys(){return Je(this,"key")}values(){return Je(this,"value")}[Symbol.iterator](){return Je(this,"key+value")}}function Ze(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const t=Object.keys(e[Fe]).sort();return t.map("key"===A?function(e){return e.toLowerCase()}:"value"===A?function(A){return e[Fe][A].join(", ")}:function(A){return[A.toLowerCase(),e[Fe][A].join(", ")]})}Xe.prototype.entries=Xe.prototype[Symbol.iterator],Object.defineProperty(Xe.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Xe.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const Ve=Symbol("internal");function Je(e,A){const t=Object.create(eA);return t[Ve]={target:e,kind:A,index:0},t}const eA=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==eA)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Ve];const A=e.target,t=e.kind,n=e.index,r=Ze(A,t);return n>=r.length?{value:void 0,done:!0}:(this[Ve].index=n+1,{value:r[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function AA(e){const A=Object.assign({__proto__:null},e[Fe]),t=He(e[Fe],"Host");return void 0!==t&&(A[t]=A[t][0]),A}Object.defineProperty(eA,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const tA=Symbol("Response internals"),nA=ne.STATUS_CODES;class rA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ue.call(this,e,A);const t=A.status||200,n=new Xe(A.headers);if(null!=e&&!n.has("Content-Type")){const A=Pe(e);A&&n.append("Content-Type",A)}this[tA]={url:A.url,status:t,statusText:A.statusText||nA[t],headers:n,counter:A.counter}}get url(){return this[tA].url||""}get status(){return this[tA].status}get ok(){return this[tA].status>=200&&this[tA].status<300}get redirected(){return this[tA].counter>0}get statusText(){return this[tA].statusText}get headers(){return this[tA].headers}clone(){return new rA(Te(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Ue.mixIn(rA.prototype),Object.defineProperties(rA.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(rA.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const oA=Symbol("Request internals"),sA=re.parse,aA=re.format,iA="destroy"in te.Readable.prototype;function lA(e){return"object"==typeof e&&"object"==typeof e[oA]}class cA{constructor(e){let A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lA(e)?A=sA(e.url):(A=e&&e.href?sA(e.href):sA(""+e),e={});let n=t.method||e.method||"GET";if(n=n.toUpperCase(),(null!=t.body||lA(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let r=null!=t.body?t.body:lA(e)&&null!==e.body?Te(e):null;Ue.call(this,r,{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0});const o=new Xe(t.headers||e.headers||{});if(null!=r&&!o.has("Content-Type")){const e=Pe(r);e&&o.append("Content-Type",e)}let s=lA(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&!function(e){const A=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!A||"AbortSignal"!==A.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[oA]={method:n,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:A,signal:s},this.follow=void 0!==t.follow?t.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==t.compress?t.compress:void 0===e.compress||e.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent}get method(){return this[oA].method}get url(){return aA(this[oA].parsedURL)}get headers(){return this[oA].headers}get redirect(){return this[oA].redirect}get signal(){return this[oA].signal}clone(){return new cA(this)}}function CA(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}Ue.mixIn(cA.prototype),Object.defineProperty(cA.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(cA.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),CA.prototype=Object.create(Error.prototype),CA.prototype.constructor=CA,CA.prototype.name="AbortError";const pA=te.PassThrough,dA=re.resolve;function mA(e,A){if(!mA.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Ue.Promise=mA.Promise,new mA.Promise((function(t,n){const r=new cA(e,A),o=function(e){const A=e[oA].parsedURL,t=new Xe(e[oA].headers);if(t.has("Accept")||t.set("Accept","*/*"),!A.protocol||!A.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(A.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof te.Readable&&!iA)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),null!=e.body){const A=qe(e);"number"==typeof A&&(n=String(A))}n&&t.set("Content-Length",n),t.has("User-Agent")||t.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!t.has("Accept-Encoding")&&t.set("Accept-Encoding","gzip,deflate");let r=e.agent;return"function"==typeof r&&(r=r(A)),t.has("Connection")||r||t.set("Connection","close"),Object.assign({},A,{method:e.method,headers:AA(t),agent:r})}(r),s=("https:"===o.protocol?oe:ne).request,a=r.signal;let i=null;const l=function(){let e=new CA("The user aborted a request.");n(e),r.body&&r.body instanceof te.Readable&&r.body.destroy(e),i&&i.body&&i.body.emit("error",e)};if(a&&a.aborted)return void l();const c=function(){l(),d()},C=s(o);let p;function d(){C.abort(),a&&a.removeEventListener("abort",c),clearTimeout(p)}a&&a.addEventListener("abort",c),r.timeout&&C.once("socket",(function(e){p=setTimeout((function(){n(new Ke("network timeout at: "+r.url,"request-timeout")),d()}),r.timeout)})),C.on("error",(function(e){n(new Ke(`request to ${r.url} failed, reason: ${e.message}`,"system",e)),d()})),C.on("response",(function(e){clearTimeout(p);const A=function(e){const A=new Xe;for(const t of Object.keys(e))if(!Le.test(t))if(Array.isArray(e[t]))for(const n of e[t])Re.test(n)||(void 0===A[Fe][t]?A[Fe][t]=[n]:A[Fe][t].push(n));else Re.test(e[t])||(A[Fe][t]=[e[t]]);return A}(e.headers);if(mA.isRedirect(e.statusCode)){const o=A.get("Location"),s=null===o?null:dA(r.url,o);switch(r.redirect){case"error":return n(new Ke("redirect mode is set to error: "+r.url,"no-redirect")),void d();case"manual":if(null!==s)try{A.set("Location",s)}catch(e){n(e)}break;case"follow":if(null===s)break;if(r.counter>=r.follow)return n(new Ke("maximum redirect reached at: "+r.url,"max-redirect")),void d();const o={headers:new Xe(r.headers),follow:r.follow,counter:r.counter+1,agent:r.agent,compress:r.compress,method:r.method,body:r.body,signal:r.signal,timeout:r.timeout};return 303!==e.statusCode&&r.body&&null===qe(r)?(n(new Ke("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void d()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==r.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length")),t(mA(new cA(s,o))),void d())}}e.once("end",(function(){a&&a.removeEventListener("abort",c)}));let o=e.pipe(new pA);const s={url:r.url,status:e.statusCode,statusText:e.statusMessage,headers:A,size:r.size,timeout:r.timeout,counter:r.counter},l=A.get("Content-Encoding");if(!r.compress||"HEAD"===r.method||null===l||204===e.statusCode||304===e.statusCode)return i=new rA(o,s),void t(i);const C={flush:se.Z_SYNC_FLUSH,finishFlush:se.Z_SYNC_FLUSH};if("gzip"==l||"x-gzip"==l)return o=o.pipe(se.createGunzip(C)),i=new rA(o,s),void t(i);if("deflate"!=l&&"x-deflate"!=l){if("br"==l&&"function"==typeof se.createBrotliDecompress)return o=o.pipe(se.createBrotliDecompress()),i=new rA(o,s),void t(i);i=new rA(o,s),t(i)}else{e.pipe(new pA).once("data",(function(e){o=8==(15&e[0])?o.pipe(se.createInflate()):o.pipe(se.createInflateRaw()),i=new rA(o,s),t(i)}))}})),function(e,A){const t=A.body;null===t?e.end():We(t)?t.stream().pipe(e):Buffer.isBuffer(t)?(e.write(t),e.end()):t.pipe(e)}(C,r)}))}function uA(e,A){const t=(n=JSON.parse(l.readFileSync(c.join(Ae,"build.json"),"utf-8")),()=>n);var n;const r=(o=hA(Ae),()=>o);var o;const s=l.existsSync(c.join(Ae,"service-worker.js")),{server_routes:a,pages:i}=e,C=e.error;function p(e,A,t){console.error(t);A.statusCode=500,A.end("<pre>Internal server error</pre>")}function d(e,A,t,n){m({pattern:null,parts:[{name:null,component:C}]},e,A,t,n||new Error("Unknown error in preload function"))}async function m(n,o,a,i=200,l=null){const c="/service-worker-index.html"===o.path,C=t();a.setHeader("Content-Type","text/html"),a.setHeader("Cache-Control","max-age=600");let m=Array.isArray(C.assets.main)?C.assets.main:[C.assets.main];if(l||c||n.parts.forEach(e=>{e&&(m=m.concat(C.assets[e.name]))}),"rollup"===C.bundler){const e=m.filter(e=>e&&!e.match(/\.map$/)).map(e=>`<${o.baseUrl}/client/${e}>;rel="modulepreload"`).join(", ");a.setHeader("Link",e)}else{const e=m.filter(e=>e&&!e.match(/\.map$/)).map(e=>{const A=/\.css$/.test(e)?"style":"script";return`<${o.baseUrl}/client/${e}>;rel="preload";as="${A}"`}).join(", ");a.setHeader("Link",e)}const u=A(o,a);let f,g;const v={redirect:(e,A)=>{if(f&&(f.statusCode!==e||f.location!==A))throw new Error("Conflicting redirects");A=A.replace(/^\//g,""),f={statusCode:e,location:A}},error:(e,A)=>{g={statusCode:e,message:A}},fetch:(e,A)=>{const t=new re.URL(e,`http://127.0.0.1:${process.env.PORT}${o.baseUrl?o.baseUrl+"/":""}`);if(A){if("include"===(A=Object.assign({},A)).credentials||"same-origin"===A.credentials&&t.origin==="http://127.0.0.1:"+process.env.PORT){A.headers=Object.assign({},A.headers);const e=Object.assign({},fe.parse(o.headers.cookie||""),fe.parse(A.headers.cookie||"")),t=a.getHeader("Set-Cookie");(Array.isArray(t)?t:[t]).forEach(A=>{const t=/([^=]+)=([^;]+)/.exec(A);t&&(e[t[1]]=t[2])});const n=Object.keys(e).map(A=>`${A}=${e[A]}`).join("; ");A.headers.cookie=n}}return mA(t.href,A)}};let b,E,O;try{const A=e.root_preload?e.root_preload.call(v,{host:o.headers.host,path:o.path,query:o.query,params:{}},u):{};E=l?null:n.pattern.exec(o.path);let t=[A];c||(t=t.concat(n.parts.map(e=>e?(O=e.params?e.params(E):{},e.preload?e.preload.call(v,{host:o.headers.host,path:o.path,query:o.query,params:O},u):{}):null))),b=await Promise.all(t)}catch(e){if(l)return p(0,a,e);g={statusCode:500,message:e},b=[]}try{if(f){const e=re.resolve((o.baseUrl||"")+"/",f.location);return a.statusCode=f.statusCode,a.setHeader("Location",e),void a.end()}if(g)return void d(o,a,g.statusCode,g.message);const e=o.path.split("/").filter(Boolean),A=[e[0]];let t=1;n.parts.forEach((n,r)=>{if(A[t]=e[r+1],!n)return null;t++});const p={stores:{page:{subscribe:Object(h.a)({host:o.headers.host,path:o.path,query:o.query,params:O}).subscribe},preloading:{subscribe:Object(h.a)(null).subscribe},session:Object(h.a)(u)},segments:A,status:l?i:200,error:l?l instanceof Error?l:{message:l}:null,level0:{props:b[0]},level1:{segment:e[0],props:{}}};if(!c){let A=1;for(let t=0;t<n.parts.length;t+=1){const r=n.parts[t];r&&(p["level"+A++]={component:r.component,props:b[t+1]||{},segment:e[t]})}}const{html:m,head:v,css:E}=x.render(p),y={preloaded:`[${b.map(e=>fA(e)).join(",")}]`,session:u&&fA(u,e=>{throw new Error("Failed to serialize session data: "+e.message)}),error:l&&fA(p.error)};let w=`__SAPPER__={${[l&&`error:${y.error},status:${i}`,`baseUrl:"${o.baseUrl}"`,y.preloaded&&"preloaded:"+y.preloaded,y.session&&"session:"+y.session].filter(Boolean).join(",")}};`;s&&(w+=`if('serviceWorker' in navigator)navigator.serviceWorker.register('${o.baseUrl}/service-worker.js');`);const k=[].concat(C.assets.main).filter(e=>e&&/\.js$/.test(e))[0],_=`${o.baseUrl}/client/${k}`;if("rollup"===C.bundler)if(C.legacy_assets){const e=`${o.baseUrl}/client/legacy/${C.legacy_assets.main}`;w+=`(function(){try{eval("async function x(){}");var main="${_}"}catch(e){main="${e}"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${o.baseUrl}/client/shimport@${C.shimport}.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());`}else w+=`var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="${_}";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${o.baseUrl}/client/shimport@${C.shimport}.js";s.setAttribute("data-main","${_}")}document.head.appendChild(s)`;else w+=`<\/script><script src="${_}">`;let B;if(C.css&&C.css.main){const e=new Set;C.css.main&&e.add(C.css.main),n.parts.forEach(A=>{if(!A)return;const t=C.css.chunks[A.file];t&&t.forEach(A=>{e.add(A)})}),B=Array.from(e).map(e=>`<link rel="stylesheet" href="client/${e}">`).join("")}else B=E&&E.code?`<style>${E.code}</style>`:"";const M=a.locals&&a.locals.nonce?` nonce="${a.locals.nonce}"`:"",j=r().replace("%sapper.base%",()=>`<base href="${o.baseUrl}/">`).replace("%sapper.scripts%",()=>`<script${M}>${w}<\/script>`).replace("%sapper.html%",()=>m).replace("%sapper.head%",()=>`<noscript id='sapper-head-start'></noscript>${v}<noscript id='sapper-head-end'></noscript>`).replace("%sapper.styles%",()=>B);a.statusCode=i,a.end(j)}catch(e){l?p(0,a,e):d(o,a,500,e)}}return function(e,A,t){if("/service-worker-index.html"!==e.path){for(const t of i)if(t.pattern.test(e.path))return void m(t,e,A);d(e,A,404,"Not found")}else{m(i.find(e=>e.pattern.test("/")),e,A)}}}function hA(e=Ae){return l.readFileSync(e+"/template.html","utf-8")}function fA(e,A){try{return Oe(e)}catch(e){return A&&A(e),null}}function gA({prefix:e,pathname:A,cache_control:t}){const n=A?e=>e.path===A:A=>A.path.startsWith(e),r=new Map,o=e=>(r.has(e)?r:r.set(e,l.readFileSync(c.join(Ae,e)))).get(e);return(e,A,r)=>{if(n(e)){const n=ie.getType(e.path);try{const r=c.posix.normalize(decodeURIComponent(e.path)),s=o(r);A.setHeader("Content-Type",n),A.setHeader("Cache-Control",t),A.end(s)}catch(e){A.statusCode=404,A.end("not found")}}else r()}}function vA(){}mA.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},mA.Promise=global.Promise;var bA=t(19);const{PORT:xA,NODE_ENV:EA}=process.env,OA="development"===EA,yA=Object(bA.createProxyMiddleware)("/api",{target:"http://localhost:5110",changeOrigin:!0,pathRewrite:e=>encodeURI(e)});s()().use(yA,i()({threshold:0}),r()("static",{dev:OA}),function(e={}){const{session:A,ignore:t}=e;let n=!1;return function(e,A){const t=A.length;function n(e,r,o,s){if(e>=t)return s();A[e](r,o,()=>n(e+1,r,o,s))}return e?(A,t,r)=>{!function e(A,t){return Array.isArray(t)?t.some(t=>e(A,t)):t instanceof RegExp?t.test(A):"function"==typeof t?t(A):A.startsWith(47===t.charCodeAt(0)?t:"/"+t)}(A.path,e)?n(0,A,t,r):r()}:(e,A,t)=>n(0,e,A,t)}(t,[(e,A,t)=>{if(void 0===e.baseUrl){let{originalUrl:A}=e;"/"===e.url&&"/"!==A[A.length-1]&&(A+="/"),e.baseUrl=A?A.slice(0,-e.url.length):""}!n&&process.send&&(process.send({__sapper__:!0,event:"basepath",basepath:e.baseUrl}),n=!0),void 0===e.path&&(e.path=e.url.replace(/\?.*/,"")),t()},l.existsSync(c.join(Ae,"service-worker.js"))&&gA({pathname:"/service-worker.js",cache_control:"no-cache, no-store, must-revalidate"}),l.existsSync(c.join(Ae,"service-worker.js.map"))&&gA({pathname:"/service-worker.js.map",cache_control:"no-cache, no-store, must-revalidate"}),gA({prefix:"/client/",cache_control:"max-age=31536000, immutable"}),le(ee.server_routes),uA(ee,A||vA)].filter(Boolean))}()).listen(xA,"0.0.0.0",e=>{e&&console.log("error",e)})}]);