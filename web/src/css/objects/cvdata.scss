@use '../essence' as *;

@mixin cv-token($color: blue) {
  cursor: pointer;
  position: relative;
  --border: #{color($color, 4)};
  --active: #{color($color, 6)};

  .tm-dark &,
  .tm-oled & {
    --border: #{color($color, 6)};
    --active: #{color($color, 4)};
  }
}

.cvdata {
  min-height: 50vh;
  padding: var(--verpad) var(--gutter);

  margin-left: calc(-1 * var(--gutter));
  margin-right: calc(-1 * var(--gutter));

  @include bp-min(rem(840px)) {
    margin-left: 0;
    margin-right: 0;

    .tm-dark &,
    .tm-oled & {
      @include linesd(--bd-soft, $ndef: false, $inset: false);
    }
  }

  @include bdradi();
  @include fgcolor(secd);
  @include bgcolor(tert);
  @include shadow(1);

  .tm-warm & {
    background: #fffbeb;
  }

  .adsbygoogle {
    margin-top: 1rem;
  }

  .mtl._h {
    font-weight: 400;
    @include fgcolor(secd);
    @include bps(line-height, 1.75rem, 1.875rem, 2rem, 2.25rem, 2.5rem);
    @include bps(font-size, rem(23px), rem(24px), rem(26px), rem(28px));
    // prettier-ignore
    @include bp-max(xs) { font-size: rem(22px); }
  }

  .mtl._p {
    margin-bottom: 0;
    text-align: justify;
    text-justify: auto;

    @include bps(margin-top, 1rem, 1.125rem, 1.25rem, 1.375rem, 1.5rem);
    @include bps(font-size, rem(19px), rem(20px), rem(21px), rem(22px));
    @include bps(line-height, 1.75rem, 1.875rem, 2rem, 2.25rem);

    // prettier-ignore
    @include bp-max(xs) { font-size: rem(18px); }
  }

  cite {
    font-style: normal;
    font-variant: small-caps;
  }
}

.mtl {
  --fgcolor: #{color(gray, 8)};
  color: var(--fgcolor);

  @include bps(font-size, rem(16px), rem(17px), rem(18px));
  @include bps(line-height, 1.5rem, 1.75rem);

  & + & {
    margin-top: 1rem;
  }

  .tm-dark &,
  .tm-oled & {
    --fgcolor: #{color(gray, 3)};
  }
}

c-v {
  --border: transparent;
  --active: var(--fgcolor);
  color: var(--fgcolor);

  &:hover,
  &._focus {
    color: var(--active);
  }

  .mtl:hover &,
  .mtl._active & {
    border-bottom: 1px solid var(--border);
  }

  .kbd-hint &,
  .debugger & {
    color: var(--active);
    background: var(--bg-active, inherit);
  }

  // &[data-d='1'] {
  //   @include cv-token(gray);
  // }

  &[data-d='2'] {
    @include cv-token(blue);
  }

  &[data-d='3'] {
    @include cv-token(teal);
  }

  &[data-d='4'] {
    @include cv-token(pink);
  }

  &[data-d='5'] {
    @include cv-token(violet);
  }

  &[data-d='6'] {
    @include cv-token(green);
  }

  &[data-d='7'] {
    @include cv-token(orange);
  }

  &[data-d='8'] {
    @include cv-token(red);
  }

  &[data-d='9'] {
    cursor: pointer;
    position: relative;
    --active: #fff;
    --bg-active: #{color(red, 5)};
  }

  c-z & {
    cursor: pointer;
    &:hover,
    &._active {
      color: var(--active);
    }
  }
}
